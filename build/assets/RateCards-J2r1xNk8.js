import{r as d,j as e,X as p}from"./index-5UJQZh1O.js";import{V as F,E,G as M}from"./pricingEngine-Bip1o_TA.js";import{C as k}from"./circle-alert-B1diqlqF.js";import{T as V,D as P}from"./badge-CFUPwwPp.js";import{S as m}from"./save-CdEmEnKI.js";import{P as u}from"./pen-CQUa2qab.js";import"./adminPricingManager-Fd3awkha.js";function L(){const[i,h]=d.useState(F),[o,j]=d.useState(E),[b,x]=d.useState(null),[g,c]=d.useState(null),[a,l]=d.useState(null),[r,n]=d.useState(null),N=t=>{x(t.id),l({...t})},f=()=>{a&&(h(i.map(t=>t.id===a.id?a:t)),x(null),l(null))},y=()=>{x(null),l(null)},v=t=>{c(t.id),n({...t})},w=()=>{r&&(j(o.map(t=>t.id===r.id?r:t)),c(null),n(null))},C=()=>{c(null),n(null)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Rate Cards Management"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Configure vehicle pricing and extras"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-start gap-3",children:[e.jsx(k,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900",children:"Global Volume Margin"}),e.jsxs("div",{className:"text-sm text-blue-700 mt-1",children:["All quotes automatically include a ",e.jsxs("strong",{children:["+",((M-1)*100).toFixed(0),"% safety margin"]})," on total volume to account for imperfect packing."]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-cyan-50 border-b border-slate-200",children:e.jsxs("h3",{className:"font-bold text-slate-900 text-xl flex items-center gap-2",children:[e.jsx(V,{className:"w-6 h-6 text-blue-600"}),"Vehicle Rate Cards"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Vehicle"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Volume Range"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Base Fee"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Price/Mile"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Price/m³"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Min Charge"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"1 Man"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"2 Men"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"3 Men"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:i.map(t=>e.jsx("tr",{className:"hover:bg-slate-50 transition-colors",children:b===t.id&&a?e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsx("input",{type:"text",value:a.name,onChange:s=>l({...a,name:s.target.value}),className:"w-32 px-2 py-1 border border-blue-300 rounded text-sm"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx("input",{type:"number",value:a.minVolume,onChange:s=>l({...a,minVolume:s.target.value===""?"":parseFloat(s.target.value)}),className:"w-14 px-2 py-1 border border-blue-300 rounded"}),e.jsx("span",{children:"–"}),e.jsx("input",{type:"number",value:a.maxVolume,onChange:s=>l({...a,maxVolume:s.target.value===""?"":parseFloat(s.target.value)}),className:"w-14 px-2 py-1 border border-blue-300 rounded"}),e.jsx("span",{children:"m³"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs",children:"£"}),e.jsx("input",{type:"number",value:a.baseFee,onChange:s=>l({...a,baseFee:s.target.value===""?"":parseFloat(s.target.value)}),className:"w-16 px-2 py-1 border border-blue-300 rounded text-sm"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs",children:"£"}),e.jsx("input",{type:"number",step:"0.01",value:a.pricePerMile,onChange:s=>l({...a,pricePerMile:s.target.value===""?"":parseFloat(s.target.value)}),className:"w-16 px-2 py-1 border border-blue-300 rounded text-sm"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs",children:"£"}),e.jsx("input",{type:"number",step:"0.01",value:a.pricePerCubicMeter,onChange:s=>l({...a,pricePerCubicMeter:s.target.value===""?"":parseFloat(s.target.value)}),className:"w-16 px-2 py-1 border border-blue-300 rounded text-sm"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs",children:"£"}),e.jsx("input",{type:"number",value:a.minimumCharge,onChange:s=>l({...a,minimumCharge:s.target.value===""?"":parseFloat(s.target.value)}),className:"w-16 px-2 py-1 border border-blue-300 rounded text-sm"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs",children:"£"}),e.jsx("input",{type:"number",value:a.crew1Man,onChange:s=>l({...a,crew1Man:s.target.value===""?"":parseFloat(s.target.value)}),className:"w-16 px-2 py-1 border border-blue-300 rounded text-sm"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs",children:"£"}),e.jsx("input",{type:"number",value:a.crew2Men,onChange:s=>l({...a,crew2Men:s.target.value===""?"":parseFloat(s.target.value)}),className:"w-16 px-2 py-1 border border-blue-300 rounded text-sm"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs",children:"£"}),e.jsx("input",{type:"number",value:a.crew3Men,onChange:s=>l({...a,crew3Men:s.target.value===""?"":parseFloat(s.target.value)}),className:"w-16 px-2 py-1 border border-blue-300 rounded text-sm"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:f,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:e.jsx(m,{className:"w-4 h-4"})}),e.jsx("button",{onClick:y,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(p,{className:"w-4 h-4"})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsx("div",{className:"font-semibold text-slate-900",children:t.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm text-slate-600",children:[t.minVolume,"–",t.maxVolume," m³"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"font-semibold text-green-600",children:["£",t.baseFee.toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"font-semibold text-blue-600",children:["£",t.pricePerMile.toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"font-semibold text-blue-600",children:["£",t.pricePerCubicMeter.toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"font-semibold text-orange-600",children:["£",t.minimumCharge.toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm text-slate-700",children:["£",t.crew1Man.toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm text-slate-700",children:["£",t.crew2Men.toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-sm text-slate-700",children:["£",t.crew3Men.toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{onClick:()=>N(t),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(u,{className:"w-4 h-4"})})})})]})},t.id))})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"p-6 bg-gradient-to-r from-green-50 to-emerald-50 border-b border-slate-200",children:e.jsxs("h3",{className:"font-bold text-slate-900 text-xl flex items-center gap-2",children:[e.jsx(P,{className:"w-6 h-6 text-green-600"}),"Extras Catalog"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Extra Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:o.map(t=>e.jsx("tr",{className:"hover:bg-slate-50 transition-colors",children:g===t.id&&r?e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"text",value:r.name,onChange:s=>n({...r,name:s.target.value}),className:"w-full px-3 py-1 border border-blue-300 rounded-lg"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs",children:"£"}),e.jsx("input",{type:"number",value:r.price,onChange:s=>n({...r,price:s.target.value===""?"":parseFloat(s.target.value)}),className:"w-24 px-2 py-1 border border-blue-300 rounded"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("select",{value:r.type,onChange:s=>n({...r,type:s.target.value}),className:"px-3 py-1 border border-blue-300 rounded-lg",children:[e.jsx("option",{value:"flat",children:"Flat Rate"}),e.jsx("option",{value:"per_floor",children:"Per Floor"}),e.jsx("option",{value:"per_item",children:"Per Item"}),e.jsx("option",{value:"per_hour",children:"Per Hour"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:w,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:e.jsx(m,{className:"w-4 h-4"})}),e.jsx("button",{onClick:C,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(p,{className:"w-4 h-4"})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"font-medium text-slate-900",children:t.name})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"font-semibold text-green-600",children:["£",t.price.toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium bg-slate-100 text-slate-700",children:t.type.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{onClick:()=>v(t),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(u,{className:"w-4 h-4"})})})})]})},t.id))})]})})]})]})}export{L as RateCards};
