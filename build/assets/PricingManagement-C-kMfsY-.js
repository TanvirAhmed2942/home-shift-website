import{j as e}from"./radix-vendor-BV-zUPZ_.js";import{a as i}from"./react-vendor-BK8AH302.js";import{a as p}from"./adminPricingManager-Fd3awkha.js";import{bF as f,an as j,bR as v,ah as N,c2 as w}from"./ui-vendor-qxZeYYxY.js";function F(){const[d,x]=i.useState({}),[n,u]=i.useState("house-move"),[s,a]=i.useState(null);i.useEffect(()=>{c()},[]);const c=()=>{x({...p.getAllRules()})},m=()=>{a({...d[n]})},g=()=>{s&&(p.updateRule(n,s),c(),a(null))},h=()=>{a(null)},r=(l,b)=>{s&&a({...s,[l]:b})},o=(l,b)=>{s&&a({...s,vanTypeMultiplier:{...s.vanTypeMultiplier,[l]:b}})},t=s||d[n];return t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Pricing Configuration"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Manage base rates, multipliers, and fees for each service"})]}),e.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-xl hover:bg-slate-50 transition-all",children:[e.jsx(f,{className:"w-5 h-5"}),"Refresh Rules"]})]}),e.jsx("div",{className:"flex overflow-x-auto gap-2 pb-2",children:Object.keys(d).map(l=>e.jsx("button",{onClick:()=>{u(l),a(null)},className:`px-6 py-3 rounded-xl font-bold capitalize whitespace-nowrap transition-all ${n===l?"bg-blue-600 text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-50"}`,children:l.replace("-"," ")},l))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-r from-slate-50 to-white border-b border-slate-200 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-900 capitalize flex items-center gap-2",children:[e.jsx(j,{className:"w-6 h-6 text-blue-600"}),n.replace("-"," ")," Settings"]}),e.jsx("div",{className:"flex gap-2",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-bold shadow-lg",children:[e.jsx(v,{className:"w-4 h-4"}),"Save Changes"]}),e.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 font-bold",children:[e.jsx(N,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold shadow-lg",children:[e.jsx(w,{className:"w-4 h-4"}),"Edit Pricing"]})})]}),e.jsxs("div",{className:"p-8 grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-bold text-slate-900 border-b pb-2 mb-4",children:"Base Rates"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Base Call-out Fee (£)"}),e.jsx("input",{type:"number",disabled:!s,value:t.basePrice,onChange:l=>r("basePrice",parseFloat(l.target.value)),className:"w-full p-3 rounded-lg border border-slate-300 bg-slate-50 disabled:opacity-70 font-mono font-bold text-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Price Per Mile (£)"}),e.jsx("input",{type:"number",step:"0.1",disabled:!s,value:t.pricePerMile,onChange:l=>r("pricePerMile",parseFloat(l.target.value)),className:"w-full p-3 rounded-lg border border-slate-300 bg-slate-50 disabled:opacity-70 font-mono font-bold text-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Minimum Price (£)"}),e.jsx("input",{type:"number",disabled:!s,value:t.minPrice,onChange:l=>r("minPrice",parseFloat(l.target.value)),className:"w-full p-3 rounded-lg border border-slate-300 bg-slate-50 disabled:opacity-70 font-mono font-bold text-lg"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-bold text-slate-900 border-b pb-2 mb-4",children:"Multipliers & Fees"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Weekend Multiplier (x)"}),e.jsx("input",{type:"number",step:"0.1",disabled:!s,value:t.weekendMultiplier,onChange:l=>r("weekendMultiplier",parseFloat(l.target.value)),className:"w-full p-3 rounded-lg border border-slate-300 bg-slate-50 disabled:opacity-70 font-mono font-bold text-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Congestion Charge (£)"}),e.jsx("input",{type:"number",disabled:!s,value:t.congestionCharge,onChange:l=>r("congestionCharge",parseFloat(l.target.value)),className:"w-full p-3 rounded-lg border border-slate-300 bg-slate-50 disabled:opacity-70 font-mono font-bold text-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Stairs (Per Flight) (£)"}),e.jsx("input",{type:"number",disabled:!s,value:t.stairsPricePerFlight,onChange:l=>r("stairsPricePerFlight",parseFloat(l.target.value)),className:"w-full p-3 rounded-lg border border-slate-300 bg-slate-50 disabled:opacity-70 font-mono font-bold text-lg"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-bold text-slate-900 border-b pb-2 mb-4",children:"Vehicle Surcharges (Multiplier)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Small Van"}),e.jsx("input",{type:"number",step:"0.1",disabled:!s,value:t.vanTypeMultiplier.small,onChange:l=>o("small",parseFloat(l.target.value)),className:"w-full p-3 rounded-lg border border-slate-300 bg-slate-50 disabled:opacity-70 font-mono font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Medium Van"}),e.jsx("input",{type:"number",step:"0.1",disabled:!s,value:t.vanTypeMultiplier.medium,onChange:l=>o("medium",parseFloat(l.target.value)),className:"w-full p-3 rounded-lg border border-slate-300 bg-slate-50 disabled:opacity-70 font-mono font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Large Van"}),e.jsx("input",{type:"number",step:"0.1",disabled:!s,value:t.vanTypeMultiplier.large,onChange:l=>o("large",parseFloat(l.target.value)),className:"w-full p-3 rounded-lg border border-slate-300 bg-slate-50 disabled:opacity-70 font-mono font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Luton Van"}),e.jsx("input",{type:"number",step:"0.1",disabled:!s,value:t.vanTypeMultiplier.luton,onChange:l=>o("luton",parseFloat(l.target.value)),className:"w-full p-3 rounded-lg border border-slate-300 bg-slate-50 disabled:opacity-70 font-mono font-bold"})]})]})]})]}),e.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-200",children:[e.jsx("h4",{className:"font-bold text-slate-700 mb-2",children:"Rule Preview Logic:"}),e.jsxs("p",{className:"font-mono text-sm text-slate-500",children:["Total = (BasePrice + (Miles * ",t.pricePerMile,") + Extras) * Multipliers"]})]})]})]}):e.jsx("div",{children:"Loading..."})}export{F as PricingManagement};
