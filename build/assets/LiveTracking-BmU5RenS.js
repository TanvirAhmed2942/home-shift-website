import{r,j as e}from"./index-5UJQZh1O.js";import{P as u}from"./pause-BkrS0LsC.js";import{P as g}from"./play-Bs9qe05a.js";import{T as x,U as f}from"./badge-CFUPwwPp.js";import{N as c}from"./navigation-DtiQYTGD.js";import{M as m}from"./map-pin-CAk8qj7B.js";import{C as o}from"./clock-BSTGw2vZ.js";import{P as n}from"./phone-BIaX-aZ8.js";function S(){const[a,h]=r.useState(null),[l,p]=r.useState(!0),[i]=r.useState([{id:"1",bookingNumber:"SMH-1002",driver:{name:"Mike Johnson",phone:"07700 900111",vehicle:"Large Van - AB12 CDE"},customer:{name:"Emma Wilson",phone:"07700 900456"},pickup:{address:"Birmingham B1 1AA",postcode:"B1 1AA",lat:52.4862,lng:-1.8904},delivery:{address:"Leeds LS1 1AA",postcode:"LS1 1AA",lat:53.7997,lng:-1.5492},status:"in-transit",currentLocation:{lat:53.1424,lng:-1.6724},eta:"14:30",distance:120,completedDistance:65},{id:"2",bookingNumber:"SMH-1003",driver:{name:"Sarah Davis",phone:"07700 900222",vehicle:"Medium Van - FG34 HIJ"},customer:{name:"David Brown",phone:"07700 900789"},pickup:{address:"London SW1A 1AA",postcode:"SW1A 1AA",lat:51.5014,lng:-.1419},delivery:{address:"Oxford OX1 1AA",postcode:"OX1 1AA",lat:51.752,lng:-1.2577},status:"picked-up",currentLocation:{lat:51.5014,lng:-.1419},eta:"11:45",distance:60,completedDistance:5},{id:"3",bookingNumber:"SMH-1005",driver:{name:"Tom Wilson",phone:"07700 900333",vehicle:"Luton Van - KL56 MNO"},customer:{name:"Lisa Anderson",phone:"07700 900321"},pickup:{address:"Bristol BS1 1AA",postcode:"BS1 1AA",lat:51.4545,lng:-2.5879},delivery:{address:"Cardiff CF10 1AA",postcode:"CF10 1AA",lat:51.4816,lng:-3.1791},status:"near-delivery",currentLocation:{lat:51.478,lng:-3.15},eta:"10:15",distance:45,completedDistance:42}]),d={"picked-up":{label:"Picked Up",color:"bg-blue-100 text-blue-700",icon:"ðŸ“¦"},"in-transit":{label:"In Transit",color:"bg-purple-100 text-purple-700",icon:"ðŸšš"},"near-delivery":{label:"Near Delivery",color:"bg-orange-100 text-orange-700",icon:"ðŸ“"},delivered:{label:"Delivered",color:"bg-green-100 text-green-700",icon:"âœ…"}},s=a?i.find(t=>t.id===a):i[0];return r.useEffect(()=>{if(!l||!s)return;const t=setInterval(()=>{console.log("Updating GPS location...")},3e3);return()=>clearInterval(t)},[l,s]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Live Tracking"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Real-time GPS tracking of active deliveries"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>p(!l),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${l?"bg-green-100 text-green-700 hover:bg-green-200":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[l?e.jsx(u,{className:"w-5 h-5"}):e.jsx(g,{className:"w-5 h-5"}),l?"Live Updates ON":"Live Updates OFF"]})})]}),e.jsxs("div",{className:"grid sm:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-700",children:"Active Jobs"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:i.length})]}),e.jsx(x,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-700",children:"In Transit"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:i.filter(t=>t.status==="in-transit").length})]}),e.jsx(c,{className:"w-8 h-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-700",children:"Near Delivery"}),e.jsx("p",{className:"text-2xl font-bold text-orange-900",children:i.filter(t=>t.status==="near-delivery").length})]}),e.jsx(m,{className:"w-8 h-8 text-orange-600"})]})}),e.jsx("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-700",children:"Avg ETA"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:"25 min"})]}),e.jsx(o,{className:"w-8 h-8 text-green-600"})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Active Deliveries"}),e.jsx("div",{className:"space-y-3",children:i.map(t=>e.jsxs("button",{onClick:()=>h(t.id),className:`w-full text-left p-4 rounded-xl border-2 transition-all ${a===t.id||!a&&t.id===i[0].id?"border-blue-500 bg-blue-50 shadow-lg":"border-slate-200 bg-white hover:border-blue-300"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900",children:t.bookingNumber}),e.jsx("div",{className:"text-sm text-slate-600",children:t.driver.name})]}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${d[t.status].color}`,children:[d[t.status].icon," ",d[t.status].label]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(m,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"truncate",children:t.delivery.postcode})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(o,{className:"w-4 h-4 text-orange-600"}),e.jsxs("span",{children:["ETA: ",t.eta]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-slate-600 mb-1",children:[e.jsxs("span",{children:[t.completedDistance,"mi"]}),e.jsxs("span",{children:[t.distance,"mi"]})]}),e.jsx("div",{className:"w-full h-2 bg-slate-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-cyan-500 transition-all duration-500",style:{width:`${t.completedDistance/t.distance*100}%`}})})]})]},t.id))})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 border-b border-slate-200 flex items-center justify-between",children:[e.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(c,{className:"w-5 h-5 text-blue-600"}),"Live Map - ",s?.bookingNumber]}),l&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Live"})]})]}),e.jsxs("div",{className:"relative w-full h-96 bg-gradient-to-br from-blue-50 via-cyan-50 to-green-50",children:[e.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 800 400",children:[e.jsxs("defs",{children:[e.jsx("pattern",{id:"liveGrid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"#cbd5e1",strokeWidth:"0.5",opacity:"0.3"})}),e.jsxs("linearGradient",{id:"routeLive",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",style:{stopColor:"#3b82f6",stopOpacity:1}}),e.jsx("stop",{offset:"100%",style:{stopColor:"#10b981",stopOpacity:1}})]})]}),e.jsx("rect",{width:"800",height:"400",fill:"url(#liveGrid)"}),e.jsx("path",{d:"M 100 300 Q 300 150, 700 100",stroke:"url(#routeLive)",strokeWidth:"4",fill:"none",strokeLinecap:"round",strokeDasharray:"10,5"}),e.jsxs("g",{children:[e.jsx("circle",{cx:"100",cy:"300",r:"20",fill:"#3b82f6",stroke:"white",strokeWidth:"3",className:"drop-shadow-lg"}),e.jsx("text",{x:"100",y:"306",fontSize:"16",fill:"white",textAnchor:"middle",fontWeight:"bold",children:"A"}),e.jsx("text",{x:"100",y:"330",fontSize:"12",fill:"#475569",textAnchor:"middle",fontWeight:"600",children:s?.pickup.postcode}),e.jsx("text",{x:"100",y:"345",fontSize:"10",fill:"#64748b",textAnchor:"middle",children:"Pickup"})]}),e.jsxs("g",{children:[e.jsx("circle",{cx:"700",cy:"100",r:"20",fill:"#10b981",stroke:"white",strokeWidth:"3",className:"drop-shadow-lg"}),e.jsx("text",{x:"700",y:"106",fontSize:"16",fill:"white",textAnchor:"middle",fontWeight:"bold",children:"B"}),e.jsx("text",{x:"700",y:"130",fontSize:"12",fill:"#475569",textAnchor:"middle",fontWeight:"600",children:s?.delivery.postcode}),e.jsx("text",{x:"700",y:"145",fontSize:"10",fill:"#64748b",textAnchor:"middle",children:"Delivery"})]}),e.jsxs("g",{className:"animate-pulse",children:[e.jsx("circle",{cx:100+(s?.completedDistance||0)/(s?.distance||1)*600,cy:300-(s?.completedDistance||0)/(s?.distance||1)*200,r:"25",fill:"#8b5cf6",stroke:"white",strokeWidth:"3",className:"drop-shadow-2xl"}),e.jsx("text",{x:100+(s?.completedDistance||0)/(s?.distance||1)*600,y:305-(s?.completedDistance||0)/(s?.distance||1)*200,fontSize:"20",textAnchor:"middle",children:"ðŸšš"}),e.jsx("circle",{cx:100+(s?.completedDistance||0)/(s?.distance||1)*600,cy:300-(s?.completedDistance||0)/(s?.distance||1)*200,r:"40",fill:"none",stroke:"#8b5cf6",strokeWidth:"2",opacity:"0.3",className:"animate-ping"})]})]}),e.jsx("div",{className:"absolute bottom-4 left-4 bg-white rounded-xl shadow-lg p-4 border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"w-4 h-4 text-purple-600"}),e.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:[s?.completedDistance,"mi / ",s?.distance,"mi"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"w-4 h-4 text-orange-600"}),e.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:["ETA: ",s?.eta]})]})]})})]})]}),s&&e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-slate-200",children:[e.jsxs("h4",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5 text-purple-600"}),"Driver Information"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center text-white font-bold",children:s.driver.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900",children:s.driver.name}),e.jsx("div",{className:"text-sm text-slate-600",children:s.driver.vehicle})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(n,{className:"w-4 h-4"}),s.driver.phone]}),e.jsxs("button",{className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all flex items-center justify-center gap-2",children:[e.jsx(n,{className:"w-4 h-4"}),"Call Driver"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-slate-200",children:[e.jsxs("h4",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5 text-blue-600"}),"Customer Information"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-cyan-600 flex items-center justify-center text-white font-bold",children:s.customer.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900",children:s.customer.name}),e.jsx("div",{className:"text-sm text-slate-600",children:s.bookingNumber})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(n,{className:"w-4 h-4"}),s.customer.phone]}),e.jsxs("button",{className:"w-full px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-all flex items-center justify-center gap-2",children:[e.jsx(n,{className:"w-4 h-4"}),"Call Customer"]})]})]})]})]})]})]})}export{S as LiveTracking};
