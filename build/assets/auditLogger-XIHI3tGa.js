const r="shiftmyhome_audit_logs",a=[{id:"1",user:"System Admin",role:"owner",action:"System Initialization",details:"Audit logging system started",timestamp:new Date().toISOString(),ip:"127.0.0.1",type:"security"}],n={getLogs:e=>{try{const t=localStorage.getItem(r);let o=t?JSON.parse(t):a;return e&&(o=o.filter(i=>i.jobId===e)),o.sort((i,s)=>new Date(s.timestamp).getTime()-new Date(i.timestamp).getTime())}catch(t){return console.error("Failed to load audit logs",t),[]}},log:e=>{try{const t=n.getLogs(),o={...e,id:Math.random().toString(36).substr(2,9),timestamp:new Date().toISOString(),ip:"192.168.1.1"};return t.unshift(o),localStorage.setItem(r,JSON.stringify(t)),o}catch(t){console.error("Failed to save audit log",t)}},formatDate:e=>new Date(e).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})};export{n as a};
