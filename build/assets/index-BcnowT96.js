const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/App-DYDnpDtK.js","assets/radix-vendor-BV-zUPZ_.js","assets/react-vendor-BK8AH302.js","assets/ui-vendor-qxZeYYxY.js","assets/input-C7ODwt5z.js","assets/badge-BhdGP7Z3.js","assets/mapbox-gl-BnguMuRq.js","assets/map-vendor-B8JKxxRh.js","assets/mapbox-gl-3QNNJl2T.css","assets/mapboxConfig-B9kHtw8J.js","assets/pricingEngine-Bip1o_TA.js","assets/adminPricingManager-Fd3awkha.js","assets/mapService-X3YQ3F6H.js","assets/configService-becgr1wi.js","assets/MapboxMap-CMuWPxfl.js","assets/select-BByHL1Py.js","assets/App-DLLp6MXv.js"])))=>i.map(i=>d[i]);
import{j as h,S as Jr,u as Go,a as Fr,c as Ur,P as we,b as Hr,d as Wr,e as qr,R as Yo,C as Ko,f as Gr,T as Yr,D as Kr,g as Xo,O as Qo,h as Fe,i as tt}from"./radix-vendor-BV-zUPZ_.js";import{e as Xr,a as f,d as T,c as Qr}from"./react-vendor-BK8AH302.js";import{L as Zr,i as Zo,a as ei,f as on,b as es,c as Tt,d as pn,e as ti,g as ni,h as oi,j as si,k as ri,l as gn,r as ii,s as ai,m as li,o as ci,S as di,H as ui,n as Qe,p as ts,v as ns,q as $n,t as os,u as ss,w as ne,x as mi,y as me,z as ce,A as rs,B as sn,C as fi,D as hi,E as rn,F as is,G as te,I as pi,J as gi,K as yi,M as On,N as vi,O as bi,P as Pt,Q as Ue,R as as,T as ls,U as cs,V as wi,W as xi,X as Vn,Y as ki,Z as Si,_ as Ti,$ as Pi,a0 as Ci,a1 as Di,a2 as Bt,a3 as Oe,a4 as dt,a5 as ut,a6 as Bn,a7 as Ei,a8 as Ai,a9 as Ii,aa as ze,ab as Mi,ac as Ni,ad as _n,ae as Ri,af as ji,ag as Li,ah as ds,ai as $i,aj as Oi,ak as Vi,al as Bi,am as _i,an as zi,ao as zn}from"./ui-vendor-qxZeYYxY.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var mt={},Jn;function Ji(){if(Jn)return mt;Jn=1;var e=Xr();return mt.createRoot=e.createRoot,mt.hydrateRoot=e.hydrateRoot,mt}var Fi=Ji();const Ui="modulepreload",Hi=function(e){return"/"+e},Fn={},us=function(t,n,o){let s=Promise.resolve();if(n&&n.length>0){let r=function(l){return Promise.all(l.map(u=>Promise.resolve(u).then(a=>({status:"fulfilled",value:a}),a=>({status:"rejected",reason:a}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");s=r(n.map(l=>{if(l=Hi(l),l in Fn)return;Fn[l]=!0;const u=l.endsWith(".css"),a=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${a}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Ui,u||(m.as="script"),m.crossOrigin="",m.href=l,d&&m.setAttribute("nonce",d),document.head.appendChild(m),u)return new Promise((p,g)=>{m.addEventListener("load",p),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(r){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=r,window.dispatchEvent(c),!c.defaultPrevented)throw r}return s.then(r=>{for(const c of r||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};class Wi{listeners=[];currentRoute=null;constructor(){window.addEventListener("popstate",()=>{this.notifyListeners()})}getCurrentRoute(){if(this.currentRoute)return this.currentRoute;const t=window.location.hash.slice(1)||"/",[n,...o]=t.split("/").filter(Boolean);let s;switch(n){case"admin":s={page:"admin"};break;case"driver":o[0]==="dashboard"?s={page:"driver-dashboard"}:o[0]==="job"&&o[1]?s={page:"driver-job-details",jobId:o[1]}:s={page:"driver-dashboard"};break;case"customer":s={page:"customer-dashboard"};break;case"driver-mobile":s={page:"driver-mobile"};break;case"booking":s={page:"booking",service:o[0]||"house-moving"};break;case"pricing":s={page:"pricing"};break;case"furniture-booking":s={page:"furniture-booking"};break;case"feedback":s={page:"feedback",jobId:o[0]};break;case"reviews":s={page:"driver-reviews",driverId:o[0]};break;case"partner":s={page:"partner-dashboard"};break;case"payments":s={page:"payments"};break;case"availability":s={page:"availability"};break;case"messaging":s={page:"messaging"};break;case"reports":s={page:"reports"};break;case"tracking":s={page:"tracking",jobId:o[0]};break;case"documents":s={page:"documents",userId:o[0]};break;default:s={page:"home"}}return this.currentRoute=s,s}navigate(t){let n="#/";switch(t.page){case"home":n="#/";break;case"admin":n="#/admin";break;case"driver-dashboard":n="#/driver/dashboard";break;case"driver-job-details":n=`#/driver/job/${t.jobId}`;break;case"customer-dashboard":n="#/customer";break;case"driver-mobile":n="#/driver-mobile";break;case"booking":n=`#/booking/${t.service}`;break;case"pricing":n="#/pricing";break;case"furniture-booking":n="#/furniture-booking";break;case"feedback":n=t.jobId?`#/feedback/${t.jobId}`:"#/feedback";break;case"driver-reviews":n=t.driverId?`#/reviews/${t.driverId}`:"#/reviews";break;case"partner-dashboard":n="#/partner";break;case"payments":n="#/payments";break;case"availability":n="#/availability";break;case"messaging":n="#/messaging";break;case"reports":n="#/reports";break;case"tracking":n=`#/tracking/${t.jobId}`;break;case"documents":n=`#/documents/${t.userId}`;break}window.location.hash!==n&&(window.history.pushState(null,"",n),this.currentRoute=null,this.notifyListeners())}goBack(){this.currentRoute=null,window.history.back()}onChange(t){return this.listeners.push(t),()=>{this.listeners=this.listeners.filter(n=>n!==t)}}notifyListeners(){const t=this.getCurrentRoute();this.listeners.forEach(n=>n(t))}}const Un=new Wi,Hn=f.lazy(()=>us(()=>import("./App-DYDnpDtK.js").then(e=>e.A),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),qi=f.lazy(()=>us(()=>import("./App-DLLp6MXv.js"),__vite__mapDeps([16,1,2,5,3]))),Gi=()=>h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Zr,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),h.jsx("p",{className:"text-slate-600",children:"Loading Application..."})]})});function Yi(){const[e,t]=f.useState(Un.getCurrentRoute());return f.useEffect(()=>Un.onChange(n=>{t(n),window.scrollTo(0,0)}),[]),h.jsx(f.Suspense,{fallback:h.jsx(Gi,{}),children:Ki(e)})}function Ki(e){switch(e.page){case"admin":return h.jsx(qi,{});case"driver-dashboard":case"driver-job-details":case"driver-reviews":case"availability":case"driver-mobile":case"customer-dashboard":case"tracking":case"documents":case"feedback":case"payments":case"partner-dashboard":return console.warn(`Route ${e.page} requested but app is removed. Rendering Website.`),h.jsx(Hn,{});case"home":case"booking":case"pricing":case"furniture-booking":case"messaging":case"reports":default:return h.jsx(Hn,{})}}const ms=f.createContext({theme:"system",setTheme:()=>null});function Xi({children:e,...t}){const[n,o]=f.useState(()=>localStorage.getItem("theme")||"system");f.useEffect(()=>{const i=window.document.documentElement;if(i.classList.remove("light","dark"),n==="system"){const r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";i.classList.add(r);return}i.classList.add(n)},[n]);const s={theme:n,setTheme:i=>{localStorage.setItem("theme",i),o(i)}};return h.jsx(ms.Provider,{...t,value:s,children:e})}const Qi=()=>{const e=f.useContext(ms);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};function Zi(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const ea=e=>{switch(e){case"success":return oa;case"info":return ra;case"warning":return sa;case"error":return ia;default:return null}},ta=Array(12).fill(0),na=({visible:e,className:t})=>T.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},T.createElement("div",{className:"sonner-spinner"},ta.map((n,o)=>T.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),oa=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sa=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ra=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ia=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aa=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},T.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),la=()=>{const[e,t]=T.useState(document.hidden);return T.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let an=1;class ca{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:o,...s}=t,i=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:an++,r=this.toasts.find(d=>d.id===i),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),r?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:o}),{...d,...t,id:i,dismissible:c,title:o}):d):this.addToast({title:o,...s,dismissible:c,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(o=>o({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let o;n.loading!==void 0&&(o=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=o!==void 0,r;const c=s.then(async l=>{if(r=["resolve",l],T.isValidElement(l))i=!1,this.create({id:o,type:"default",message:l});else if(ua(l)&&!l.ok){i=!1;const a=typeof n.error=="function"?await n.error(`HTTP error! status: ${l.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${l.status}`):n.description,g=typeof a=="object"&&!T.isValidElement(a)?a:{message:a};this.create({id:o,type:"error",description:m,...g})}else if(l instanceof Error){i=!1;const a=typeof n.error=="function"?await n.error(l):n.error,m=typeof n.description=="function"?await n.description(l):n.description,g=typeof a=="object"&&!T.isValidElement(a)?a:{message:a};this.create({id:o,type:"error",description:m,...g})}else if(n.success!==void 0){i=!1;const a=typeof n.success=="function"?await n.success(l):n.success,m=typeof n.description=="function"?await n.description(l):n.description,g=typeof a=="object"&&!T.isValidElement(a)?a:{message:a};this.create({id:o,type:"success",description:m,...g})}}).catch(async l=>{if(r=["reject",l],n.error!==void 0){i=!1;const u=typeof n.error=="function"?await n.error(l):n.error,a=typeof n.description=="function"?await n.description(l):n.description,p=typeof u=="object"&&!T.isValidElement(u)?u:{message:u};this.create({id:o,type:"error",description:a,...p})}}).finally(()=>{i&&(this.dismiss(o),o=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((l,u)=>c.then(()=>r[0]==="reject"?u(r[1]):l(r[1])).catch(u));return typeof o!="string"&&typeof o!="number"?{unwrap:d}:Object.assign(o,{unwrap:d})},this.custom=(t,n)=>{const o=n?.id||an++;return this.create({jsx:t(o),id:o,...n}),o},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const le=new ca,da=(e,t)=>{const n=t?.id||an++;return le.addToast({title:e,...t,id:n}),n},ua=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",ma=da,fa=()=>le.toasts,ha=()=>le.getActiveToasts(),qm=Object.assign(ma,{success:le.success,info:le.info,warning:le.warning,error:le.error,custom:le.custom,message:le.message,promise:le.promise,dismiss:le.dismiss,loading:le.loading},{getHistory:fa,getToasts:ha});Zi("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ft(e){return e.label!==void 0}const pa=3,ga="24px",ya="16px",Wn=4e3,va=356,ba=14,wa=45,xa=200;function be(...e){return e.filter(Boolean).join(" ")}function ka(e){const[t,n]=e.split("-"),o=[];return t&&o.push(t),n&&o.push(n),o}const Sa=e=>{var t,n,o,s,i,r,c,d,l;const{invert:u,toast:a,unstyled:m,interacting:p,setHeights:g,visibleToasts:y,heights:x,index:v,toasts:b,expanded:S,removeToast:M,defaultRichColors:R,closeButton:N,style:L,cancelButtonStyle:D,actionButtonStyle:J,className:G="",descriptionClassName:H="",duration:Y,position:X,gap:Q,expandByDefault:W,classNames:V,icons:$,closeButtonAriaLabel:C="Close toast"}=e,[q,U]=T.useState(null),[se,w]=T.useState(null),[k,E]=T.useState(!1),[P,O]=T.useState(!1),[j,B]=T.useState(!1),[F,ae]=T.useState(!1),[Se,pe]=T.useState(!1),[Ir,$t]=T.useState(0),[Mr,Dn]=T.useState(0),qe=T.useRef(a.duration||Y||Wn),En=T.useRef(null),xe=T.useRef(null),Nr=v===0,Rr=v+1<=y,de=a.type,je=a.dismissible!==!1,jr=a.className||"",Lr=a.descriptionClassName||"",at=T.useMemo(()=>x.findIndex(_=>_.toastId===a.id)||0,[x,a.id]),$r=T.useMemo(()=>{var _;return(_=a.closeButton)!=null?_:N},[a.closeButton,N]),An=T.useMemo(()=>a.duration||Y||Wn,[a.duration,Y]),Ot=T.useRef(0),Le=T.useRef(0),In=T.useRef(0),$e=T.useRef(null),[Or,Vr]=X.split("-"),Mn=T.useMemo(()=>x.reduce((_,Z,oe)=>oe>=at?_:_+Z.height,0),[x,at]),Nn=la(),Br=a.invert||u,Vt=de==="loading";Le.current=T.useMemo(()=>at*Q+Mn,[at,Mn]),T.useEffect(()=>{qe.current=An},[An]),T.useEffect(()=>{E(!0)},[]),T.useEffect(()=>{const _=xe.current;if(_){const Z=_.getBoundingClientRect().height;return Dn(Z),g(oe=>[{toastId:a.id,height:Z,position:a.position},...oe]),()=>g(oe=>oe.filter(ue=>ue.toastId!==a.id))}},[g,a.id]),T.useLayoutEffect(()=>{if(!k)return;const _=xe.current,Z=_.style.height;_.style.height="auto";const oe=_.getBoundingClientRect().height;_.style.height=Z,Dn(oe),g(ue=>ue.find(ee=>ee.toastId===a.id)?ue.map(ee=>ee.toastId===a.id?{...ee,height:oe}:ee):[{toastId:a.id,height:oe,position:a.position},...ue])},[k,a.title,a.description,g,a.id,a.jsx,a.action,a.cancel]);const Te=T.useCallback(()=>{O(!0),$t(Le.current),g(_=>_.filter(Z=>Z.toastId!==a.id)),setTimeout(()=>{M(a)},xa)},[a,M,g,Le]);T.useEffect(()=>{if(a.promise&&de==="loading"||a.duration===1/0||a.type==="loading")return;let _;return S||p||Nn?(()=>{if(In.current<Ot.current){const ue=new Date().getTime()-Ot.current;qe.current=qe.current-ue}In.current=new Date().getTime()})():(()=>{qe.current!==1/0&&(Ot.current=new Date().getTime(),_=setTimeout(()=>{a.onAutoClose==null||a.onAutoClose.call(a,a),Te()},qe.current))})(),()=>clearTimeout(_)},[S,p,a,de,Nn,Te]),T.useEffect(()=>{a.delete&&(Te(),a.onDismiss==null||a.onDismiss.call(a,a))},[Te,a.delete]);function _r(){var _;if($?.loading){var Z;return T.createElement("div",{className:be(V?.loader,a==null||(Z=a.classNames)==null?void 0:Z.loader,"sonner-loader"),"data-visible":de==="loading"},$.loading)}return T.createElement(na,{className:be(V?.loader,a==null||(_=a.classNames)==null?void 0:_.loader),visible:de==="loading"})}const zr=a.icon||$?.[de]||ea(de);var Rn,jn;return T.createElement("li",{tabIndex:0,ref:xe,className:be(G,jr,V?.toast,a==null||(t=a.classNames)==null?void 0:t.toast,V?.default,V?.[de],a==null||(n=a.classNames)==null?void 0:n[de]),"data-sonner-toast":"","data-rich-colors":(Rn=a.richColors)!=null?Rn:R,"data-styled":!(a.jsx||a.unstyled||m),"data-mounted":k,"data-promise":!!a.promise,"data-swiped":Se,"data-removed":P,"data-visible":Rr,"data-y-position":Or,"data-x-position":Vr,"data-index":v,"data-front":Nr,"data-swiping":j,"data-dismissible":je,"data-type":de,"data-invert":Br,"data-swipe-out":F,"data-swipe-direction":se,"data-expanded":!!(S||W&&k),"data-testid":a.testId,style:{"--index":v,"--toasts-before":v,"--z-index":b.length-v,"--offset":`${P?Ir:Le.current}px`,"--initial-height":W?"auto":`${Mr}px`,...L,...a.style},onDragEnd:()=>{B(!1),U(null),$e.current=null},onPointerDown:_=>{_.button!==2&&(Vt||!je||(En.current=new Date,$t(Le.current),_.target.setPointerCapture(_.pointerId),_.target.tagName!=="BUTTON"&&(B(!0),$e.current={x:_.clientX,y:_.clientY})))},onPointerUp:()=>{var _,Z,oe;if(F||!je)return;$e.current=null;const ue=Number(((_=xe.current)==null?void 0:_.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),lt=Number(((Z=xe.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ee=new Date().getTime()-((oe=En.current)==null?void 0:oe.getTime()),fe=q==="x"?ue:lt,ct=Math.abs(fe)/ee;if(Math.abs(fe)>=wa||ct>.11){$t(Le.current),a.onDismiss==null||a.onDismiss.call(a,a),w(q==="x"?ue>0?"right":"left":lt>0?"down":"up"),Te(),ae(!0);return}else{var ge,ye;(ge=xe.current)==null||ge.style.setProperty("--swipe-amount-x","0px"),(ye=xe.current)==null||ye.style.setProperty("--swipe-amount-y","0px")}pe(!1),B(!1),U(null)},onPointerMove:_=>{var Z,oe,ue;if(!$e.current||!je||((Z=window.getSelection())==null?void 0:Z.toString().length)>0)return;const ee=_.clientY-$e.current.y,fe=_.clientX-$e.current.x;var ct;const ge=(ct=e.swipeDirections)!=null?ct:ka(X);!q&&(Math.abs(fe)>1||Math.abs(ee)>1)&&U(Math.abs(fe)>Math.abs(ee)?"x":"y");let ye={x:0,y:0};const Ln=Ae=>1/(1.5+Math.abs(Ae)/20);if(q==="y"){if(ge.includes("top")||ge.includes("bottom"))if(ge.includes("top")&&ee<0||ge.includes("bottom")&&ee>0)ye.y=ee;else{const Ae=ee*Ln(ee);ye.y=Math.abs(Ae)<Math.abs(ee)?Ae:ee}}else if(q==="x"&&(ge.includes("left")||ge.includes("right")))if(ge.includes("left")&&fe<0||ge.includes("right")&&fe>0)ye.x=fe;else{const Ae=fe*Ln(fe);ye.x=Math.abs(Ae)<Math.abs(fe)?Ae:fe}(Math.abs(ye.x)>0||Math.abs(ye.y)>0)&&pe(!0),(oe=xe.current)==null||oe.style.setProperty("--swipe-amount-x",`${ye.x}px`),(ue=xe.current)==null||ue.style.setProperty("--swipe-amount-y",`${ye.y}px`)}},$r&&!a.jsx&&de!=="loading"?T.createElement("button",{"aria-label":C,"data-disabled":Vt,"data-close-button":!0,onClick:Vt||!je?()=>{}:()=>{Te(),a.onDismiss==null||a.onDismiss.call(a,a)},className:be(V?.closeButton,a==null||(o=a.classNames)==null?void 0:o.closeButton)},(jn=$?.close)!=null?jn:aa):null,(de||a.icon||a.promise)&&a.icon!==null&&($?.[de]!==null||a.icon)?T.createElement("div",{"data-icon":"",className:be(V?.icon,a==null||(s=a.classNames)==null?void 0:s.icon)},a.promise||a.type==="loading"&&!a.icon?a.icon||_r():null,a.type!=="loading"?zr:null):null,T.createElement("div",{"data-content":"",className:be(V?.content,a==null||(i=a.classNames)==null?void 0:i.content)},T.createElement("div",{"data-title":"",className:be(V?.title,a==null||(r=a.classNames)==null?void 0:r.title)},a.jsx?a.jsx:typeof a.title=="function"?a.title():a.title),a.description?T.createElement("div",{"data-description":"",className:be(H,Lr,V?.description,a==null||(c=a.classNames)==null?void 0:c.description)},typeof a.description=="function"?a.description():a.description):null),T.isValidElement(a.cancel)?a.cancel:a.cancel&&ft(a.cancel)?T.createElement("button",{"data-button":!0,"data-cancel":!0,style:a.cancelButtonStyle||D,onClick:_=>{ft(a.cancel)&&je&&(a.cancel.onClick==null||a.cancel.onClick.call(a.cancel,_),Te())},className:be(V?.cancelButton,a==null||(d=a.classNames)==null?void 0:d.cancelButton)},a.cancel.label):null,T.isValidElement(a.action)?a.action:a.action&&ft(a.action)?T.createElement("button",{"data-button":!0,"data-action":!0,style:a.actionButtonStyle||J,onClick:_=>{ft(a.action)&&(a.action.onClick==null||a.action.onClick.call(a.action,_),!_.defaultPrevented&&Te())},className:be(V?.actionButton,a==null||(l=a.classNames)==null?void 0:l.actionButton)},a.action.label):null)};function qn(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Ta(e,t){const n={};return[e,t].forEach((o,s)=>{const i=s===1,r=i?"--mobile-offset":"--offset",c=i?ya:ga;function d(l){["top","right","bottom","left"].forEach(u=>{n[`${r}-${u}`]=typeof l=="number"?`${l}px`:l})}typeof o=="number"||typeof o=="string"?d(o):typeof o=="object"?["top","right","bottom","left"].forEach(l=>{o[l]===void 0?n[`${r}-${l}`]=c:n[`${r}-${l}`]=typeof o[l]=="number"?`${o[l]}px`:o[l]}):d(c)}),n}const Pa=T.forwardRef(function(t,n){const{id:o,invert:s,position:i="bottom-right",hotkey:r=["altKey","KeyT"],expand:c,closeButton:d,className:l,offset:u,mobileOffset:a,theme:m="light",richColors:p,duration:g,style:y,visibleToasts:x=pa,toastOptions:v,dir:b=qn(),gap:S=ba,icons:M,containerAriaLabel:R="Notifications"}=t,[N,L]=T.useState([]),D=T.useMemo(()=>o?N.filter(k=>k.toasterId===o):N.filter(k=>!k.toasterId),[N,o]),J=T.useMemo(()=>Array.from(new Set([i].concat(D.filter(k=>k.position).map(k=>k.position)))),[D,i]),[G,H]=T.useState([]),[Y,X]=T.useState(!1),[Q,W]=T.useState(!1),[V,$]=T.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),C=T.useRef(null),q=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=T.useRef(null),se=T.useRef(!1),w=T.useCallback(k=>{L(E=>{var P;return(P=E.find(O=>O.id===k.id))!=null&&P.delete||le.dismiss(k.id),E.filter(({id:O})=>O!==k.id)})},[]);return T.useEffect(()=>le.subscribe(k=>{if(k.dismiss){requestAnimationFrame(()=>{L(E=>E.map(P=>P.id===k.id?{...P,delete:!0}:P))});return}setTimeout(()=>{Qr.flushSync(()=>{L(E=>{const P=E.findIndex(O=>O.id===k.id);return P!==-1?[...E.slice(0,P),{...E[P],...k},...E.slice(P+1)]:[k,...E]})})})}),[N]),T.useEffect(()=>{if(m!=="system"){$(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;const k=window.matchMedia("(prefers-color-scheme: dark)");try{k.addEventListener("change",({matches:E})=>{$(E?"dark":"light")})}catch{k.addListener(({matches:P})=>{try{$(P?"dark":"light")}catch(O){console.error(O)}})}},[m]),T.useEffect(()=>{N.length<=1&&X(!1)},[N]),T.useEffect(()=>{const k=E=>{var P;if(r.every(B=>E[B]||E.code===B)){var j;X(!0),(j=C.current)==null||j.focus()}E.code==="Escape"&&(document.activeElement===C.current||(P=C.current)!=null&&P.contains(document.activeElement))&&X(!1)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[r]),T.useEffect(()=>{if(C.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,se.current=!1)}},[C.current]),T.createElement("section",{ref:n,"aria-label":`${R} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},J.map((k,E)=>{var P;const[O,j]=k.split("-");return D.length?T.createElement("ol",{key:k,dir:b==="auto"?qn():b,tabIndex:-1,ref:C,className:l,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":O,"data-x-position":j,style:{"--front-toast-height":`${((P=G[0])==null?void 0:P.height)||0}px`,"--width":`${va}px`,"--gap":`${S}px`,...y,...Ta(u,a)},onBlur:B=>{se.current&&!B.currentTarget.contains(B.relatedTarget)&&(se.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||se.current||(se.current=!0,U.current=B.relatedTarget)},onMouseEnter:()=>X(!0),onMouseMove:()=>X(!0),onMouseLeave:()=>{Q||X(!1)},onDragEnd:()=>X(!1),onPointerDown:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},D.filter(B=>!B.position&&E===0||B.position===k).map((B,F)=>{var ae,Se;return T.createElement(Sa,{key:B.id,icons:M,index:F,toast:B,defaultRichColors:p,duration:(ae=v?.duration)!=null?ae:g,className:v?.className,descriptionClassName:v?.descriptionClassName,invert:s,visibleToasts:x,closeButton:(Se=v?.closeButton)!=null?Se:d,interacting:Q,position:k,style:v?.style,unstyled:v?.unstyled,classNames:v?.classNames,cancelButtonStyle:v?.cancelButtonStyle,actionButtonStyle:v?.actionButtonStyle,closeButtonAriaLabel:v?.closeButtonAriaLabel,removeToast:w,toasts:D.filter(pe=>pe.position==B.position),heights:G.filter(pe=>pe.position==B.position),setHeights:H,expandByDefault:c,gap:S,expanded:Y,swipeDirections:t.swipeDirections})})):null}))}),Ca=({...e})=>{const{theme:t="system"}=Qi();return h.jsx(Pa,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})},yn=f.createContext({});function vn(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const fs=Zo?f.useLayoutEffect:f.useEffect,It=f.createContext(null),bn=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Gn(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Da(...e){return t=>{let n=!1;const o=e.map(s=>{const i=Gn(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<o.length;s++){const i=o[s];typeof i=="function"?i():Gn(e[s],null)}}}}function Ea(...e){return f.useCallback(Da(...e),e)}class Aa extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const o=n.offsetParent,s=ei(o)&&o.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ia({children:e,isPresent:t,anchorX:n,root:o}){const s=f.useId(),i=f.useRef(null),r=f.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=f.useContext(bn),d=Ea(i,e?.ref);return f.useInsertionEffect(()=>{const{width:l,height:u,top:a,left:m,right:p}=r.current;if(t||!i.current||!l||!u)return;const g=n==="left"?`left: ${m}`:`right: ${p}`;i.current.dataset.motionPopId=s;const y=document.createElement("style");c&&(y.nonce=c);const x=o??document.head;return x.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${g}px !important;
            top: ${a}px !important;
          }
        `),()=>{x.contains(y)&&x.removeChild(y)}},[t]),h.jsx(Aa,{isPresent:t,childRef:i,sizeRef:r,children:f.cloneElement(e,{ref:d})})}const Ma=({children:e,initial:t,isPresent:n,onExitComplete:o,custom:s,presenceAffectsLayout:i,mode:r,anchorX:c,root:d})=>{const l=vn(Na),u=f.useId();let a=!0,m=f.useMemo(()=>(a=!1,{id:u,initial:t,isPresent:n,custom:s,onExitComplete:p=>{l.set(p,!0);for(const g of l.values())if(!g)return;o&&o()},register:p=>(l.set(p,!1),()=>l.delete(p))}),[n,l,o]);return i&&a&&(m={...m}),f.useMemo(()=>{l.forEach((p,g)=>l.set(g,!1))},[n]),f.useEffect(()=>{!n&&!l.size&&o&&o()},[n]),r==="popLayout"&&(e=h.jsx(Ia,{isPresent:n,anchorX:c,root:d,children:e})),h.jsx(It.Provider,{value:m,children:e})};function Na(){return new Map}function hs(e=!0){const t=f.useContext(It);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:o,register:s}=t,i=f.useId();f.useEffect(()=>{if(e)return s(i)},[e]);const r=f.useCallback(()=>e&&o&&o(i),[i,o,e]);return!n&&o?[!1,r]:[!0]}const ht=e=>e.key||"";function Yn(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const Ra=({children:e,custom:t,initial:n=!0,onExitComplete:o,presenceAffectsLayout:s=!0,mode:i="sync",propagate:r=!1,anchorX:c="left",root:d})=>{const[l,u]=hs(r),a=f.useMemo(()=>Yn(e),[e]),m=r&&!l?[]:a.map(ht),p=f.useRef(!0),g=f.useRef(a),y=vn(()=>new Map),[x,v]=f.useState(a),[b,S]=f.useState(a);fs(()=>{p.current=!1,g.current=a;for(let N=0;N<b.length;N++){const L=ht(b[N]);m.includes(L)?y.delete(L):y.get(L)!==!0&&y.set(L,!1)}},[b,m.length,m.join("-")]);const M=[];if(a!==x){let N=[...a];for(let L=0;L<b.length;L++){const D=b[L],J=ht(D);m.includes(J)||(N.splice(L,0,D),M.push(D))}return i==="wait"&&M.length&&(N=M),S(Yn(N)),v(a),null}const{forceRender:R}=f.useContext(yn);return h.jsx(h.Fragment,{children:b.map(N=>{const L=ht(N),D=r&&!l?!1:a===b||m.includes(L),J=()=>{if(y.has(L))y.set(L,!0);else return;let G=!0;y.forEach(H=>{H||(G=!1)}),G&&(R?.(),S(g.current),r&&u?.(),o&&o())};return h.jsx(Ma,{isPresent:D,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:d,onExitComplete:D?void 0:J,anchorX:c,children:N},L)})})},ps=f.createContext({strict:!1});function ja(e){for(const t in e)on[t]={...on[t],...e[t]}}const La=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ct(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||La.has(e)}let gs=e=>!Ct(e);function $a(e){typeof e=="function"&&(gs=t=>t.startsWith("on")?!Ct(t):e(t))}try{$a(require("@emotion/is-prop-valid").default)}catch{}function Oa(e,t,n){const o={};for(const s in e)s==="values"&&typeof e.values=="object"||(gs(s)||n===!0&&Ct(s)||!t&&!Ct(s)||e.draggable&&s.startsWith("onDrag"))&&(o[s]=e[s]);return o}const Mt=f.createContext({});function Va(e,t){if(es(e)){const{initial:n,animate:o}=e;return{initial:n===!1||Tt(n)?n:void 0,animate:Tt(o)?o:void 0}}return e.inherit!==!1?t:{}}function Ba(e){const{initial:t,animate:n}=Va(e,f.useContext(Mt));return f.useMemo(()=>({initial:t,animate:n}),[Kn(t),Kn(n)])}function Kn(e){return Array.isArray(e)?e.join(" "):e}const wn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ys(e,t,n){for(const o in t)!pn(t[o])&&!ti(o,n)&&(e[o]=t[o])}function _a({transformTemplate:e},t){return f.useMemo(()=>{const n=wn();return ni(n,t,e),Object.assign({},n.vars,n.style)},[t])}function za(e,t){const n=e.style||{},o={};return ys(o,n,e),Object.assign(o,_a(e,t)),o}function Ja(e,t){const n={},o=za(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}const vs=()=>({...wn(),attrs:{}});function Fa(e,t,n,o){const s=f.useMemo(()=>{const i=vs();return oi(i,t,si(o),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};ys(i,e.style,e),s.style={...i,...s.style}}return s}const Ua=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xn(e){return typeof e!="string"||e.includes("-")?!1:!!(Ua.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ha(e,t,n,{latestValues:o},s,i=!1){const c=(xn(e)?Fa:Ja)(t,o,s,e),d=Oa(t,typeof e=="string",i),l=e!==f.Fragment?{...d,...c,ref:n}:{},{children:u}=t,a=f.useMemo(()=>pn(u)?u.get():u,[u]);return f.createElement(e,{...l,children:a})}function kt(e){return pn(e)?e.get():e}function Wa({scrapeMotionValuesFromProps:e,createRenderState:t},n,o,s){return{latestValues:qa(n,o,s,e),renderState:t()}}function qa(e,t,n,o){const s={},i=o(e,{});for(const m in i)s[m]=kt(i[m]);let{initial:r,animate:c}=e;const d=es(e),l=ri(e);t&&l&&!d&&e.inherit!==!1&&(r===void 0&&(r=t.initial),c===void 0&&(c=t.animate));let u=n?n.initial===!1:!1;u=u||r===!1;const a=u?c:r;if(a&&typeof a!="boolean"&&!gn(a)){const m=Array.isArray(a)?a:[a];for(let p=0;p<m.length;p++){const g=ii(e,m[p]);if(g){const{transitionEnd:y,transition:x,...v}=g;for(const b in v){let S=v[b];if(Array.isArray(S)){const M=u?S.length-1:0;S=S[M]}S!==null&&(s[b]=S)}for(const b in y)s[b]=y[b]}}}return s}const bs=e=>(t,n)=>{const o=f.useContext(Mt),s=f.useContext(It),i=()=>Wa(e,t,o,s);return n?i():vn(i)},Ga=bs({scrapeMotionValuesFromProps:ai,createRenderState:wn}),Ya=bs({scrapeMotionValuesFromProps:li,createRenderState:vs}),Ka=Symbol.for("motionComponentSymbol");function Je(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Xa(e,t,n){return f.useCallback(o=>{o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount()),n&&(typeof n=="function"?n(o):Je(n)&&(n.current=o))},[t])}const ws=f.createContext({});function Qa(e,t,n,o,s){const{visualElement:i}=f.useContext(Mt),r=f.useContext(ps),c=f.useContext(It),d=f.useContext(bn).reducedMotion,l=f.useRef(null);o=o||r.renderer,!l.current&&o&&(l.current=o(e,{visualState:t,parent:i,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const u=l.current,a=f.useContext(ws);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&Za(l.current,n,s,a);const m=f.useRef(!1);f.useInsertionEffect(()=>{u&&m.current&&u.update(n,c)});const p=n[ci],g=f.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return fs(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),f.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),g.current=!1),u.enteringChildren=void 0)}),u}function Za(e,t,n,o){const{layoutId:s,layout:i,drag:r,dragConstraints:c,layoutScroll:d,layoutRoot:l,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:xs(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!r||c&&Je(c),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:o,crossfade:u,layoutScroll:d,layoutRoot:l})}function xs(e){if(e)return e.options.allowProjection!==!1?e.projection:xs(e.parent)}function _t(e,{forwardMotionProps:t=!1}={},n,o){n&&ja(n);const s=xn(e)?Ya:Ga;function i(c,d){let l;const u={...f.useContext(bn),...c,layoutId:el(c)},{isStatic:a}=u,m=Ba(c),p=s(c,a);if(!a&&Zo){tl();const g=nl(u);l=g.MeasureLayout,m.visualElement=Qa(e,p,u,o,g.ProjectionNode)}return h.jsxs(Mt.Provider,{value:m,children:[l&&m.visualElement?h.jsx(l,{visualElement:m.visualElement,...u}):null,Ha(e,c,Xa(p,m.visualElement,d),p,a,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const r=f.forwardRef(i);return r[Ka]=e,r}function el({layoutId:e}){const t=f.useContext(yn).id;return t&&e!==void 0?t+"-"+e:e}function tl(e,t){f.useContext(ps).strict}function nl(e){const{drag:t,layout:n}=on;if(!t&&!n)return{};const o={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function ol(e,t){if(typeof Proxy>"u")return _t;const n=new Map,o=(i,r)=>_t(i,r,e,t),s=(i,r)=>o(i,r);return new Proxy(s,{get:(i,r)=>r==="create"?o:(n.has(r)||n.set(r,_t(r,void 0,e,t)),n.get(r))})}const sl=(e,t)=>xn(e)?new di(t):new ui(t,{allowProjection:e!==f.Fragment});function ks(e,t,n,o=0,s=1){const i=Array.from(e).sort((l,u)=>l.sortNodePosition(u)).indexOf(t),r=e.size,c=(r-1)*o;return typeof n=="function"?n(i,r):s===1?i*o:c-i*o}function ln(e,t,n={}){const o=Qe(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(s=n.transitionOverride);const i=o?()=>Promise.all(ts(e,o,n)):()=>Promise.resolve(),r=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:l=0,staggerChildren:u,staggerDirection:a}=s;return rl(e,t,d,l,u,a,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,l]=c==="beforeChildren"?[i,r]:[r,i];return d().then(()=>l())}else return Promise.all([i(),r(n.delay)])}function rl(e,t,n=0,o=0,s=0,i=1,r){const c=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),c.push(ln(d,t,{...r,delay:n+(typeof o=="function"?0:o)+ks(e.variantChildren,d,o,s,i)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function il(e,t,n={}){e.notify("AnimationStart",t);let o;if(Array.isArray(t)){const s=t.map(i=>ln(e,i,n));o=Promise.all(s)}else if(typeof t=="string")o=ln(e,t,n);else{const s=typeof t=="function"?Qe(e,t,n.custom):t;o=Promise.all(ts(e,s,n))}return o.then(()=>{e.notify("AnimationComplete",t)})}function Ss(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}const al=ns.length;function Ts(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Ts(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<al;n++){const o=ns[n],s=e.props[o];(Tt(s)||s===!1)&&(t[o]=s)}return t}const ll=[...os].reverse(),cl=os.length;function dl(e){return t=>Promise.all(t.map(({animation:n,options:o})=>il(e,n,o)))}function ul(e){let t=dl(e),n=Xn(),o=!0;const s=d=>(l,u)=>{const a=Qe(e,u,d==="exit"?e.presenceContext?.custom:void 0);if(a){const{transition:m,transitionEnd:p,...g}=a;l={...l,...g,...p}}return l};function i(d){t=d(e)}function r(d){const{props:l}=e,u=Ts(e.parent)||{},a=[],m=new Set;let p={},g=1/0;for(let x=0;x<cl;x++){const v=ll[x],b=n[v],S=l[v]!==void 0?l[v]:u[v],M=Tt(S),R=v===d?b.isActive:null;R===!1&&(g=x);let N=S===u[v]&&S!==l[v]&&M;if(N&&o&&e.manuallyAnimateOnMount&&(N=!1),b.protectedKeys={...p},!b.isActive&&R===null||!S&&!b.prevProp||gn(S)||typeof S=="boolean")continue;const L=ml(b.prevProp,S);let D=L||v===d&&b.isActive&&!N&&M||x>g&&M,J=!1;const G=Array.isArray(S)?S:[S];let H=G.reduce(s(v),{});R===!1&&(H={});const{prevResolvedValues:Y={}}=b,X={...Y,...H},Q=$=>{D=!0,m.has($)&&(J=!0,m.delete($)),b.needsAnimating[$]=!0;const C=e.getValue($);C&&(C.liveStyle=!1)};for(const $ in X){const C=H[$],q=Y[$];if(p.hasOwnProperty($))continue;let U=!1;$n(C)&&$n(q)?U=!Ss(C,q):U=C!==q,U?C!=null?Q($):m.add($):C!==void 0&&m.has($)?Q($):b.protectedKeys[$]=!0}b.prevProp=S,b.prevResolvedValues=H,b.isActive&&(p={...p,...H}),o&&e.blockInitialAnimation&&(D=!1);const W=N&&L;D&&(!W||J)&&a.push(...G.map($=>{const C={type:v};if(typeof $=="string"&&o&&!W&&e.manuallyAnimateOnMount&&e.parent){const{parent:q}=e,U=Qe(q,$);if(q.enteringChildren&&U){const{delayChildren:se}=U.transition||{};C.delay=ks(q.enteringChildren,e,se)}}return{animation:$,options:C}}))}if(m.size){const x={};if(typeof l.initial!="boolean"){const v=Qe(e,Array.isArray(l.initial)?l.initial[0]:l.initial);v&&v.transition&&(x.transition=v.transition)}m.forEach(v=>{const b=e.getBaseTarget(v),S=e.getValue(v);S&&(S.liveStyle=!0),x[v]=b??null}),a.push({animation:x})}let y=!!a.length;return o&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(y=!1),o=!1,y?t(a):Promise.resolve()}function c(d,l){if(n[d].isActive===l)return Promise.resolve();e.variantChildren?.forEach(a=>a.animationState?.setActive(d,l)),n[d].isActive=l;const u=r(d);for(const a in n)n[a].protectedKeys={};return u}return{animateChanges:r,setActive:c,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Xn()}}}function ml(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Ss(t,e):!1}function Ie(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xn(){return{animate:Ie(!0),whileInView:Ie(),whileHover:Ie(),whileTap:Ie(),whileDrag:Ie(),whileFocus:Ie(),exit:Ie()}}class Ee{constructor(t){this.isMounted=!1,this.node=t}update(){}}class fl extends Ee{constructor(t){super(t),t.animationState||(t.animationState=ul(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();gn(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let hl=0;class pl extends Ee{constructor(){super(...arguments),this.id=hl++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const gl={animation:{Feature:fl},exit:{Feature:pl}};function nt(e,t,n,o={passive:!0}){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n)}function st(e){return{point:{x:e.pageX,y:e.pageY}}}const yl=e=>t=>ss(t)&&e(t,st(t));function Ze(e,t,n,o){return nt(e,t,yl(n),o)}const Ps=1e-4,vl=1-Ps,bl=1+Ps,Cs=.01,wl=0-Cs,xl=0+Cs;function re(e){return e.max-e.min}function kl(e,t,n){return Math.abs(e-t)<=n}function Qn(e,t,n,o=.5){e.origin=o,e.originPoint=ne(t.min,t.max,e.origin),e.scale=re(n)/re(t),e.translate=ne(n.min,n.max,e.origin)-e.originPoint,(e.scale>=vl&&e.scale<=bl||isNaN(e.scale))&&(e.scale=1),(e.translate>=wl&&e.translate<=xl||isNaN(e.translate))&&(e.translate=0)}function et(e,t,n,o){Qn(e.x,t.x,n.x,o?o.originX:void 0),Qn(e.y,t.y,n.y,o?o.originY:void 0)}function Zn(e,t,n){e.min=n.min+t.min,e.max=e.min+re(t)}function Sl(e,t,n){Zn(e.x,t.x,n.x),Zn(e.y,t.y,n.y)}function eo(e,t,n){e.min=t.min-n.min,e.max=e.min+re(t)}function Dt(e,t,n){eo(e.x,t.x,n.x),eo(e.y,t.y,n.y)}function he(e){return[e("x"),e("y")]}const Ds=({current:e})=>e?e.ownerDocument.defaultView:null;class Es{constructor(t,n,{transformPagePoint:o,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:r=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Jt(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=mi(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:y}=m,{timestamp:x}=me;this.history.push({...y,timestamp:x});const{onStart:v,onMove:b}=this.handlers;p||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=zt(p,this.transformPagePoint),ce.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Jt(m.type==="pointercancel"?this.lastMoveEventInfo:zt(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,v),y&&y(m,v)},!ss(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=o,this.distanceThreshold=r,this.contextWindow=s||window;const c=st(t),d=zt(c,this.transformPagePoint),{point:l}=d,{timestamp:u}=me;this.history=[{...l,timestamp:u}];const{onSessionStart:a}=n;a&&a(t,Jt(d,this.history)),this.removeListeners=rs(Ze(this.contextWindow,"pointermove",this.handlePointerMove),Ze(this.contextWindow,"pointerup",this.handlePointerUp),Ze(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),sn(this.updatePoint)}}function zt(e,t){return t?{point:t(e.point)}:e}function to(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Jt({point:e},t){return{point:e,delta:to(e,As(t)),offset:to(e,Tl(t)),velocity:Pl(t,.1)}}function Tl(e){return e[0]}function As(e){return e[e.length-1]}function Pl(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,o=null;const s=As(e);for(;n>=0&&(o=e[n],!(s.timestamp-o.timestamp>fi(t)));)n--;if(!o)return{x:0,y:0};const i=hi(s.timestamp-o.timestamp);if(i===0)return{x:0,y:0};const r={x:(s.x-o.x)/i,y:(s.y-o.y)/i};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function Cl(e,{min:t,max:n},o){return t!==void 0&&e<t?e=o?ne(t,e,o.min):Math.max(e,t):n!==void 0&&e>n&&(e=o?ne(n,e,o.max):Math.min(e,n)),e}function no(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Dl(e,{top:t,left:n,bottom:o,right:s}){return{x:no(e.x,n,s),y:no(e.y,t,o)}}function oo(e,t){let n=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,o]=[o,n]),{min:n,max:o}}function El(e,t){return{x:oo(e.x,t.x),y:oo(e.y,t.y)}}function Al(e,t){let n=.5;const o=re(e),s=re(t);return s>o?n=rn(t.min,t.max-o,e.min):o>s&&(n=rn(e.min,e.max-s,t.min)),is(0,1,n)}function Il(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const cn=.35;function Ml(e=cn){return e===!1?e=0:e===!0&&(e=cn),{x:so(e,"left","right"),y:so(e,"top","bottom")}}function so(e,t,n){return{min:ro(e,t),max:ro(e,n)}}function ro(e,t){return typeof e=="number"?e:e[t]||0}const Nl=new WeakMap;class Rl{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=te(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:o}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=a=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(st(a).point)},r=(a,m)=>{const{drag:p,dragPropagation:g,onDragStart:y}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bi(p),!this.openDragLock))return;this.latestPointerEvent=a,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),he(v=>{let b=this.getAxisMotionValue(v).get()||0;if(Pt.test(b)){const{projection:S}=this.visualElement;if(S&&S.layout){const M=S.layout.layoutBox[v];M&&(b=re(M)*(parseFloat(b)/100))}}this.originPoint[v]=b}),y&&ce.postRender(()=>y(a,m)),On(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},c=(a,m)=>{this.latestPointerEvent=a,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:y,onDrag:x}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=m;if(g&&this.currentDirection===null){this.currentDirection=jl(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),x&&x(a,m)},d=(a,m)=>{this.latestPointerEvent=a,this.latestPanInfo=m,this.stop(a,m),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>he(a=>this.getAnimationState(a)==="paused"&&this.getAxisMotionValue(a).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Es(t,{onSessionStart:i,onStart:r,onMove:c,onSessionEnd:d,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:o,contextWindow:Ds(this.visualElement)})}stop(t,n){const o=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!o)return;const{velocity:r}=s;this.startAnimation(r);const{onDragEnd:c}=this.getProps();c&&ce.postRender(()=>c(o,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,o){const{drag:s}=this.getProps();if(!o||!pt(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let r=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(r=Cl(r,this.constraints[t],this.elastic[t])),i.set(r)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&Je(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=Dl(o.layoutBox,t):this.constraints=!1,this.elastic=Ml(n),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&he(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Il(o.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Je(t))return!1;const o=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=pi(o,s.root,this.visualElement.getTransformPagePoint());let r=El(s.layout.layoutBox,i);if(n){const c=n(gi(r));this.hasMutatedConstraints=!!c,c&&(r=yi(c))}return r}startAnimation(t){const{drag:n,dragMomentum:o,dragElastic:s,dragTransition:i,dragSnapToOrigin:r,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},l=he(u=>{if(!pt(u,n,this.currentDirection))return;let a=d&&d[u]||{};r&&(a={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:o?t[u]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...a};return this.startAxisValueAnimation(u,g)});return Promise.all(l).then(c)}startAxisValueAnimation(t,n){const o=this.getAxisMotionValue(t);return On(this.visualElement,t),o.start(vi(t,o,0,n,this.visualElement,!1))}stopAnimation(){he(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){he(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps(),s=o[n];return s||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){he(n=>{const{drag:o}=this.getProps();if(!pt(n,o,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:r,max:c}=s.layout.layoutBox[n];i.set(t[n]-ne(r,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!Je(n)||!o||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};he(r=>{const c=this.getAxisMotionValue(r);if(c&&this.constraints!==!1){const d=c.get();s[r]=Al({min:d,max:d},this.constraints[r])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),he(r=>{if(!pt(r,t,null))return;const c=this.getAxisMotionValue(r),{min:d,max:l}=this.constraints[r];c.set(ne(d,l,s[r]))})}addListeners(){if(!this.visualElement.current)return;Nl.set(this.visualElement,this);const t=this.visualElement.current,n=Ze(t,"pointerdown",d=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(d)}),o=()=>{const{dragConstraints:d}=this.getProps();Je(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",o);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ce.read(o);const r=nt(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:l})=>{this.isDragging&&l&&(he(u=>{const a=this.getAxisMotionValue(u);a&&(this.originPoint[u]+=d[u].translate,a.set(a.get()+d[u].translate))}),this.visualElement.render())}));return()=>{r(),n(),i(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:o=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:r=cn,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:o,dragPropagation:s,dragConstraints:i,dragElastic:r,dragMomentum:c}}}function pt(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function jl(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ll extends Ee{constructor(t){super(t),this.removeGroupControls=Ue,this.removeListeners=Ue,this.controls=new Rl(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ue}unmount(){this.removeGroupControls(),this.removeListeners()}}const io=e=>(t,n)=>{e&&ce.postRender(()=>e(t,n))};class $l extends Ee{constructor(){super(...arguments),this.removePointerDownListener=Ue}onPointerDown(t){this.session=new Es(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ds(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:o,onPanEnd:s}=this.node.getProps();return{onSessionStart:io(t),onStart:io(n),onMove:o,onEnd:(i,r)=>{delete this.session,s&&ce.postRender(()=>s(i,r))}}}mount(){this.removePointerDownListener=Ze(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const St={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Ft=!1;class Ol extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),o&&o.register&&s&&o.register(i),Ft&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),St.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:o,drag:s,isPresent:i}=this.props,{projection:r}=o;return r&&(r.isPresent=i,Ft=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?r.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?r.promote():r.relegate()||ce.postRender(()=>{const c=r.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),as.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o}=this.props,{projection:s}=t;Ft=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),o&&o.deregister&&o.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Is(e){const[t,n]=hs(),o=f.useContext(yn);return h.jsx(Ol,{...e,layoutGroup:o,switchLayoutGroup:f.useContext(ws),isPresent:t,safeToRemove:n})}const Vl=(e,t)=>e.depth-t.depth;class Bl{constructor(){this.children=[],this.isDirty=!1}add(t){ls(this.children,t),this.isDirty=!0}remove(t){cs(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Vl),this.isDirty=!1,this.children.forEach(t)}}const Ms=["TopLeft","TopRight","BottomLeft","BottomRight"],_l=Ms.length,ao=e=>typeof e=="string"?parseFloat(e):e,lo=e=>typeof e=="number"||wi.test(e);function zl(e,t,n,o,s,i){s?(e.opacity=ne(0,n.opacity??1,Jl(o)),e.opacityExit=ne(t.opacity??1,0,Fl(o))):i&&(e.opacity=ne(t.opacity??1,n.opacity??1,o));for(let r=0;r<_l;r++){const c=`border${Ms[r]}Radius`;let d=co(t,c),l=co(n,c);if(d===void 0&&l===void 0)continue;d||(d=0),l||(l=0),d===0||l===0||lo(d)===lo(l)?(e[c]=Math.max(ne(ao(d),ao(l),o),0),(Pt.test(l)||Pt.test(d))&&(e[c]+="%")):e[c]=l}(t.rotate||n.rotate)&&(e.rotate=ne(t.rotate||0,n.rotate||0,o))}function co(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Jl=Ns(0,.5,xi),Fl=Ns(.5,.95,Ue);function Ns(e,t,n){return o=>o<e?0:o>t?1:n(rn(e,t,o))}function uo(e,t){e.min=t.min,e.max=t.max}function ve(e,t){uo(e.x,t.x),uo(e.y,t.y)}function mo(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function fo(e,t,n,o,s){return e-=t,e=Vn(e,1/n,o),s!==void 0&&(e=Vn(e,1/s,o)),e}function Ul(e,t=0,n=1,o=.5,s,i=e,r=e){if(Pt.test(t)&&(t=parseFloat(t),t=ne(r.min,r.max,t/100)-r.min),typeof t!="number")return;let c=ne(i.min,i.max,o);e===i&&(c-=t),e.min=fo(e.min,t,n,c,s),e.max=fo(e.max,t,n,c,s)}function ho(e,t,[n,o,s],i,r){Ul(e,t[n],t[o],t[s],t.scale,i,r)}const Hl=["x","scaleX","originX"],Wl=["y","scaleY","originY"];function po(e,t,n,o){ho(e.x,t,Hl,n?n.x:void 0,o?o.x:void 0),ho(e.y,t,Wl,n?n.y:void 0,o?o.y:void 0)}function go(e){return e.translate===0&&e.scale===1}function Rs(e){return go(e.x)&&go(e.y)}function yo(e,t){return e.min===t.min&&e.max===t.max}function ql(e,t){return yo(e.x,t.x)&&yo(e.y,t.y)}function vo(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function js(e,t){return vo(e.x,t.x)&&vo(e.y,t.y)}function bo(e){return re(e.x)/re(e.y)}function wo(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Gl{constructor(){this.members=[]}add(t){ls(this.members,t),t.scheduleRender()}remove(t){if(cs(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let o;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){o=i;break}}return o?(this.promote(o),!0):!1}promote(t,n){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,n&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:o}=t;n.onExitComplete&&n.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yl(e,t,n){let o="";const s=e.x.translate/t.x,i=e.y.translate/t.y,r=n?.z||0;if((s||i||r)&&(o=`translate3d(${s}px, ${i}px, ${r}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:l,rotate:u,rotateX:a,rotateY:m,skewX:p,skewY:g}=n;l&&(o=`perspective(${l}px) ${o}`),u&&(o+=`rotate(${u}deg) `),a&&(o+=`rotateX(${a}deg) `),m&&(o+=`rotateY(${m}deg) `),p&&(o+=`skewX(${p}deg) `),g&&(o+=`skewY(${g}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(o+=`scale(${c}, ${d})`),o||"none"}const Ut=["","X","Y","Z"],Kl=1e3;let Xl=0;function Ht(e,t,n,o){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),o&&(o[e]=0))}function Ls(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ri(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ce,!(s||i))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&Ls(o)}function $s({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:o,resetTransform:s}){return class{constructor(r={},c=t?.()){this.id=Xl++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ec),this.nodes.forEach(sc),this.nodes.forEach(rc),this.nodes.forEach(tc)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Bl)}addEventListener(r,c){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new ki),this.eventHandlers.get(r).add(c)}notifyListeners(r,...c){const d=this.eventHandlers.get(r);d&&d.notify(...c)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=Si(r)&&!Ti(r),this.instance=r;const{layoutId:c,layout:d,visualElement:l}=this.options;if(l&&!l.current&&l.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let u,a=0;const m=()=>this.root.updateBlockedByResize=!1;ce.read(()=>{a=window.innerWidth}),e(r,()=>{const p=window.innerWidth;p!==a&&(a=p,this.root.updateBlockedByResize=!0,u&&u(),u=Pi(m,250),St.hasAnimatedSinceResize&&(St.hasAnimatedSinceResize=!1,this.nodes.forEach(So)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&l&&(c||d)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:a,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||l.getDefaultTransition()||dc,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=l.getProps(),v=!this.targetLayout||!js(this.targetLayout,p),b=!a&&m;if(this.options.layoutRoot||this.resumeFrom||b||a&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...Ci(g,"layout"),onPlay:y,onComplete:x};(l.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(u,b)}else a||So(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),sn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ic),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ls(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const a=this.path[u];a.shouldResetTransform=!0,a.updateScroll("snapshot"),a.options.layoutRoot&&a.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xo);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ko);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oc),this.nodes.forEach(Ql),this.nodes.forEach(Zl)):this.nodes.forEach(ko),this.clearAllSnapshots();const c=Di.now();me.delta=is(0,1e3/60,c-me.timestamp),me.timestamp=c,me.isProcessing=!0,Bt.update.process(me),Bt.preRender.process(me),Bt.render.process(me),me.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,as.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nc),this.sharedNodes.forEach(ac)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!re(this.snapshot.measuredBox.x)&&!re(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=te(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(c=!1),c&&this.instance){const d=o(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!Rs(this.projectionDelta),d=this.getTransformTemplate(),l=d?d(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;r&&this.instance&&(c||Oe(this.latestValues)||u)&&(s(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return r&&(d=this.removeTransform(d)),uc(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:r}=this.options;if(!r)return te();const c=r.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(mc))){const{scroll:l}=this.root;l&&(dt(c.x,l.offset.x),dt(c.y,l.offset.y))}return c}removeElementScroll(r){const c=te();if(ve(c,r),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const l=this.path[d],{scroll:u,options:a}=l;l!==this.root&&u&&a.layoutScroll&&(u.wasRoot&&ve(c,r),dt(c.x,u.offset.x),dt(c.y,u.offset.y))}return c}applyTransform(r,c=!1){const d=te();ve(d,r);for(let l=0;l<this.path.length;l++){const u=this.path[l];!c&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ut(d,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Oe(u.latestValues)&&ut(d,u.latestValues)}return Oe(this.latestValues)&&ut(d,this.latestValues),d}removeTransform(r){const c=te();ve(c,r);for(let d=0;d<this.path.length;d++){const l=this.path[d];if(!l.instance||!Oe(l.latestValues))continue;Bn(l.latestValues)&&l.updateSnapshot();const u=te(),a=l.measurePageBox();ve(u,a),po(c,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return Oe(this.latestValues)&&po(c,this.latestValues),c}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==me.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(r||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:a}=this.options;if(!this.layout||!(u||a))return;this.resolvedRelativeTargetAt=me.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=te(),this.targetWithTransforms=te()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Sl(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ve(this.target,this.layout.layoutBox),Ei(this.target,this.targetDelta)):ve(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Bn(this.parent.latestValues)||Ai(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(r,c,d){this.relativeParent=r,this.linkedParentVersion=r.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=te(),this.relativeTargetOrigin=te(),Dt(this.relativeTargetOrigin,c,d),ve(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const r=this.getLead(),c=!!this.resumingFrom||this!==r;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===me.timestamp&&(d=!1),d)return;const{layout:l,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||u))return;ve(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,m=this.treeScale.y;Ii(this.layoutCorrected,this.treeScale,this.path,c),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=te());const{target:p}=r;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mo(this.prevProjectionDelta.x,this.projectionDelta.x),mo(this.prevProjectionDelta.y,this.projectionDelta.y)),et(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==a||this.treeScale.y!==m||!wo(this.projectionDelta.x,this.prevProjectionDelta.x)||!wo(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){if(this.options.visualElement?.scheduleRender(),r){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ze(),this.projectionDelta=ze(),this.projectionDeltaWithTransform=ze()}setAnimationOrigin(r,c=!1){const d=this.snapshot,l=d?d.latestValues:{},u={...this.latestValues},a=ze();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const m=te(),p=d?d.source:void 0,g=this.layout?this.layout.source:void 0,y=p!==g,x=this.getStack(),v=!x||x.members.length<=1,b=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(cc));this.animationProgress=0;let S;this.mixTargetDelta=M=>{const R=M/1e3;To(a.x,r.x,R),To(a.y,r.y,R),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dt(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lc(this.relativeTarget,this.relativeTargetOrigin,m,R),S&&ql(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=te()),ve(S,this.relativeTarget)),y&&(this.animationValues=u,zl(u,l,this.latestValues,R,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(sn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ce.update(()=>{St.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Mi(0)),this.currentAnimation=Ni(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),r.onUpdate&&r.onUpdate(c)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Kl),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:c,target:d,layout:l,latestValues:u}=r;if(!(!c||!d||!l)){if(this!==r&&this.layout&&l&&Os(this.options.animationType,this.layout.layoutBox,l.layoutBox)){d=this.target||te();const a=re(this.layout.layoutBox.x);d.x.min=r.target.x.min,d.x.max=d.x.min+a;const m=re(this.layout.layoutBox.y);d.y.min=r.target.y.min,d.y.max=d.y.min+m}ve(c,d),ut(c,u),et(this.projectionDeltaWithTransform,this.layoutCorrected,c,u)}}registerSharedNode(r,c){this.sharedNodes.has(r)||this.sharedNodes.set(r,new Gl),this.sharedNodes.get(r).add(c);const l=c.options.initialPromotionConfig;c.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(c):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){const{layoutId:r}=this.options;return r?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:r}=this.options;return r?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:c,preserveFollowOpacity:d}={}){const l=this.getStack();l&&l.promote(this,d),r&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let c=!1;const{latestValues:d}=r;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const l={};d.z&&Ht("z",r,l,this.animationValues);for(let u=0;u<Ut.length;u++)Ht(`rotate${Ut[u]}`,r,l,this.animationValues),Ht(`skew${Ut[u]}`,r,l,this.animationValues);r.render();for(const u in l)r.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);r.scheduleRender()}applyProjectionStyles(r,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=kt(c?.pointerEvents)||"",r.transform=d?d(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=kt(c?.pointerEvents)||""),this.hasProjected&&!Oe(this.latestValues)&&(r.transform=d?d({},""):"none",this.hasProjected=!1);return}r.visibility="";const u=l.animationValues||l.latestValues;this.applyTransformsToTarget();let a=Yl(this.projectionDeltaWithTransform,this.treeScale,u);d&&(a=d(u,a)),r.transform=a;const{x:m,y:p}=this.projectionDelta;r.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,l.animationValues?r.opacity=l===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:r.opacity=l===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in _n){if(u[g]===void 0)continue;const{correct:y,applyTo:x,isCSSVariable:v}=_n[g],b=a==="none"?u[g]:y(u[g],l);if(x){const S=x.length;for(let M=0;M<S;M++)r[x[M]]=b}else v?this.options.visualElement.renderState.vars[g]=b:r[g]=b}this.options.layoutId&&(r.pointerEvents=l===this?kt(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>r.currentAnimation?.stop()),this.root.nodes.forEach(xo),this.root.sharedNodes.clear()}}}function Ql(e){e.updateLayout()}function Zl(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:o}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;s==="size"?he(u=>{const a=i?t.measuredBox[u]:t.layoutBox[u],m=re(a);a.min=n[u].min,a.max=a.min+m}):Os(s,t.layoutBox,n)&&he(u=>{const a=i?t.measuredBox[u]:t.layoutBox[u],m=re(n[u]);a.max=a.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+m)});const r=ze();et(r,n,t.layoutBox);const c=ze();i?et(c,e.applyTransform(o,!0),t.measuredBox):et(c,n,t.layoutBox);const d=!Rs(r);let l=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:a,layout:m}=u;if(a&&m){const p=te();Dt(p,t.layoutBox,a.layoutBox);const g=te();Dt(g,n,m.layoutBox),js(p,g)||(l=!0),u.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:r,hasLayoutChanged:d,hasRelativeLayoutChanged:l})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function ec(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tc(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nc(e){e.clearSnapshot()}function xo(e){e.clearMeasurements()}function ko(e){e.isLayoutDirty=!1}function oc(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function So(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sc(e){e.resolveTargetDelta()}function rc(e){e.calcProjection()}function ic(e){e.resetSkewAndRotation()}function ac(e){e.removeLeadSnapshot()}function To(e,t,n){e.translate=ne(t.translate,0,n),e.scale=ne(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Po(e,t,n,o){e.min=ne(t.min,n.min,o),e.max=ne(t.max,n.max,o)}function lc(e,t,n,o){Po(e.x,t.x,n.x,o),Po(e.y,t.y,n.y,o)}function cc(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const dc={duration:.45,ease:[.4,0,.1,1]},Co=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Do=Co("applewebkit/")&&!Co("chrome/")?Math.round:Ue;function Eo(e){e.min=Do(e.min),e.max=Do(e.max)}function uc(e){Eo(e.x),Eo(e.y)}function Os(e,t,n){return e==="position"||e==="preserve-aspect"&&!kl(bo(t),bo(n),.2)}function mc(e){return e!==e.root&&e.scroll?.wasRoot}const fc=$s({attachResizeListener:(e,t)=>nt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wt={current:void 0},Vs=$s({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Wt.current){const e=new fc({});e.mount(window),e.setOptions({layoutScroll:!0}),Wt.current=e}return Wt.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),hc={pan:{Feature:$l},drag:{Feature:Ll,ProjectionNode:Vs,MeasureLayout:Is}};function Ao(e,t,n){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=o[s];i&&ce.postRender(()=>i(t,st(t)))}class pc extends Ee{mount(){const{current:t}=this.node;t&&(this.unmount=ji(t,(n,o)=>(Ao(this.node,o,"Start"),s=>Ao(this.node,s,"End"))))}unmount(){}}class gc extends Ee{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rs(nt(this.node.current,"focus",()=>this.onFocus()),nt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Io(e,t,n){const{props:o}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=o[s];i&&ce.postRender(()=>i(t,st(t)))}class yc extends Ee{mount(){const{current:t}=this.node;t&&(this.unmount=Li(t,(n,o)=>(Io(this.node,o,"Start"),(s,{success:i})=>Io(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dn=new WeakMap,qt=new WeakMap,vc=e=>{const t=dn.get(e.target);t&&t(e)},bc=e=>{e.forEach(vc)};function wc({root:e,...t}){const n=e||document;qt.has(n)||qt.set(n,{});const o=qt.get(n),s=JSON.stringify(t);return o[s]||(o[s]=new IntersectionObserver(bc,{root:e,...t})),o[s]}function xc(e,t,n){const o=wc(t);return dn.set(e,n),o.observe(e),()=>{dn.delete(e),o.unobserve(e)}}const kc={some:0,all:1};class Sc extends Ee{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:o,amount:s="some",once:i}=t,r={root:n?n.current:void 0,rootMargin:o,threshold:typeof s=="number"?s:kc[s]},c=d=>{const{isIntersecting:l}=d;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:a}=this.node.getProps(),m=l?u:a;m&&m(d)};return xc(this.node.current,r,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Tc(t,n))&&this.startObserver()}unmount(){}}function Tc({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Pc={inView:{Feature:Sc},tap:{Feature:yc},focus:{Feature:gc},hover:{Feature:pc}},Cc={layout:{ProjectionNode:Vs,MeasureLayout:Is}},Dc={...gl,...Pc,...hc,...Cc},Ec=ol(Dc,sl);function Bs(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Bs(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function _s(){for(var e,t,n=0,o="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Bs(e))&&(o&&(o+=" "),o+=t);return o}const Mo=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,No=_s,Ac=(e,t)=>n=>{var o;if(t?.variants==null)return No(e,n?.class,n?.className);const{variants:s,defaultVariants:i}=t,r=Object.keys(s).map(l=>{const u=n?.[l],a=i?.[l];if(u===null)return null;const m=Mo(u)||Mo(a);return s[l][m]}),c=n&&Object.entries(n).reduce((l,u)=>{let[a,m]=u;return m===void 0||(l[a]=m),l},{}),d=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((l,u)=>{let{class:a,className:m,...p}=u;return Object.entries(p).every(g=>{let[y,x]=g;return Array.isArray(x)?x.includes({...i,...c}[y]):{...i,...c}[y]===x})?[...l,a,m]:l},[]);return No(e,r,d,n?.class,n?.className)},Ic=(e,t)=>{const n=new Array(e.length+t.length);for(let o=0;o<e.length;o++)n[o]=e[o];for(let o=0;o<t.length;o++)n[e.length+o]=t[o];return n},Mc=(e,t)=>({classGroupId:e,validator:t}),zs=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Et="-",Ro=[],Nc="arbitrary..",Rc=e=>{const t=Lc(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:r=>{if(r.startsWith("[")&&r.endsWith("]"))return jc(r);const c=r.split(Et),d=c[0]===""&&c.length>1?1:0;return Js(c,d,t)},getConflictingClassGroupIds:(r,c)=>{if(c){const d=o[r],l=n[r];return d?l?Ic(l,d):d:l||Ro}return n[r]||Ro}}},Js=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],i=n.nextPart.get(s);if(i){const l=Js(e,t+1,i);if(l)return l}const r=n.validators;if(r===null)return;const c=t===0?e.join(Et):e.slice(t).join(Et),d=r.length;for(let l=0;l<d;l++){const u=r[l];if(u.validator(c))return u.classGroupId}},jc=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),o=t.slice(0,n);return o?Nc+o:void 0})(),Lc=e=>{const{theme:t,classGroups:n}=e;return $c(n,t)},$c=(e,t)=>{const n=zs();for(const o in e){const s=e[o];kn(s,n,o,t)}return n},kn=(e,t,n,o)=>{const s=e.length;for(let i=0;i<s;i++){const r=e[i];Oc(r,t,n,o)}},Oc=(e,t,n,o)=>{if(typeof e=="string"){Vc(e,t,n);return}if(typeof e=="function"){Bc(e,t,n,o);return}_c(e,t,n,o)},Vc=(e,t,n)=>{const o=e===""?t:Fs(t,e);o.classGroupId=n},Bc=(e,t,n,o)=>{if(zc(e)){kn(e(o),t,n,o);return}t.validators===null&&(t.validators=[]),t.validators.push(Mc(n,e))},_c=(e,t,n,o)=>{const s=Object.entries(e),i=s.length;for(let r=0;r<i;r++){const[c,d]=s[r];kn(d,Fs(t,c),n,o)}},Fs=(e,t)=>{let n=e;const o=t.split(Et),s=o.length;for(let i=0;i<s;i++){const r=o[i];let c=n.nextPart.get(r);c||(c=zs(),n.nextPart.set(r,c)),n=c}return n},zc=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Jc=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),o=Object.create(null);const s=(i,r)=>{n[i]=r,t++,t>e&&(t=0,o=n,n=Object.create(null))};return{get(i){let r=n[i];if(r!==void 0)return r;if((r=o[i])!==void 0)return s(i,r),r},set(i,r){i in n?n[i]=r:s(i,r)}}},un="!",jo=":",Fc=[],Lo=(e,t,n,o,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:o,isExternal:s}),Uc=e=>{const{prefix:t,experimentalParseClassName:n}=e;let o=s=>{const i=[];let r=0,c=0,d=0,l;const u=s.length;for(let y=0;y<u;y++){const x=s[y];if(r===0&&c===0){if(x===jo){i.push(s.slice(d,y)),d=y+1;continue}if(x==="/"){l=y;continue}}x==="["?r++:x==="]"?r--:x==="("?c++:x===")"&&c--}const a=i.length===0?s:s.slice(d);let m=a,p=!1;a.endsWith(un)?(m=a.slice(0,-1),p=!0):a.startsWith(un)&&(m=a.slice(1),p=!0);const g=l&&l>d?l-d:void 0;return Lo(i,p,m,g)};if(t){const s=t+jo,i=o;o=r=>r.startsWith(s)?i(r.slice(s.length)):Lo(Fc,!1,r,void 0,!0)}if(n){const s=o;o=i=>n({className:i,parseClassName:s})}return o},Hc=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,o)=>{t.set(n,1e6+o)}),n=>{const o=[];let s=[];for(let i=0;i<n.length;i++){const r=n[i],c=r[0]==="[",d=t.has(r);c||d?(s.length>0&&(s.sort(),o.push(...s),s=[]),o.push(r)):s.push(r)}return s.length>0&&(s.sort(),o.push(...s)),o}},Wc=e=>({cache:Jc(e.cacheSize),parseClassName:Uc(e),sortModifiers:Hc(e),...Rc(e)}),qc=/\s+/,Gc=(e,t)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:s,sortModifiers:i}=t,r=[],c=e.trim().split(qc);let d="";for(let l=c.length-1;l>=0;l-=1){const u=c[l],{isExternal:a,modifiers:m,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:y}=n(u);if(a){d=u+(d.length>0?" "+d:d);continue}let x=!!y,v=o(x?g.substring(0,y):g);if(!v){if(!x){d=u+(d.length>0?" "+d:d);continue}if(v=o(g),!v){d=u+(d.length>0?" "+d:d);continue}x=!1}const b=m.length===0?"":m.length===1?m[0]:i(m).join(":"),S=p?b+un:b,M=S+v;if(r.indexOf(M)>-1)continue;r.push(M);const R=s(v,x);for(let N=0;N<R.length;++N){const L=R[N];r.push(S+L)}d=u+(d.length>0?" "+d:d)}return d},Yc=(...e)=>{let t=0,n,o,s="";for(;t<e.length;)(n=e[t++])&&(o=Us(n))&&(s&&(s+=" "),s+=o);return s},Us=e=>{if(typeof e=="string")return e;let t,n="";for(let o=0;o<e.length;o++)e[o]&&(t=Us(e[o]))&&(n&&(n+=" "),n+=t);return n},Kc=(e,...t)=>{let n,o,s,i;const r=d=>{const l=t.reduce((u,a)=>a(u),e());return n=Wc(l),o=n.cache.get,s=n.cache.set,i=c,c(d)},c=d=>{const l=o(d);if(l)return l;const u=Gc(d,n);return s(d,u),u};return i=r,(...d)=>i(Yc(...d))},Xc=[],K=e=>{const t=n=>n[e]||Xc;return t.isThemeGetter=!0,t},Hs=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ws=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Qc=/^\d+\/\d+$/,Zc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ed=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,td=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,nd=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,od=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ve=e=>Qc.test(e),z=e=>!!e&&!Number.isNaN(Number(e)),Pe=e=>!!e&&Number.isInteger(Number(e)),Gt=e=>e.endsWith("%")&&z(e.slice(0,-1)),ke=e=>Zc.test(e),sd=()=>!0,rd=e=>ed.test(e)&&!td.test(e),qs=()=>!1,id=e=>nd.test(e),ad=e=>od.test(e),ld=e=>!A(e)&&!I(e),cd=e=>He(e,Ks,qs),A=e=>Hs.test(e),Me=e=>He(e,Xs,rd),Yt=e=>He(e,hd,z),$o=e=>He(e,Gs,qs),dd=e=>He(e,Ys,ad),gt=e=>He(e,Qs,id),I=e=>Ws.test(e),Ge=e=>We(e,Xs),ud=e=>We(e,pd),Oo=e=>We(e,Gs),md=e=>We(e,Ks),fd=e=>We(e,Ys),yt=e=>We(e,Qs,!0),He=(e,t,n)=>{const o=Hs.exec(e);return o?o[1]?t(o[1]):n(o[2]):!1},We=(e,t,n=!1)=>{const o=Ws.exec(e);return o?o[1]?t(o[1]):n:!1},Gs=e=>e==="position"||e==="percentage",Ys=e=>e==="image"||e==="url",Ks=e=>e==="length"||e==="size"||e==="bg-size",Xs=e=>e==="length",hd=e=>e==="number",pd=e=>e==="family-name",Qs=e=>e==="shadow",gd=()=>{const e=K("color"),t=K("font"),n=K("text"),o=K("font-weight"),s=K("tracking"),i=K("leading"),r=K("breakpoint"),c=K("container"),d=K("spacing"),l=K("radius"),u=K("shadow"),a=K("inset-shadow"),m=K("text-shadow"),p=K("drop-shadow"),g=K("blur"),y=K("perspective"),x=K("aspect"),v=K("ease"),b=K("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...M(),I,A],N=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],D=()=>[I,A,d],J=()=>[Ve,"full","auto",...D()],G=()=>[Pe,"none","subgrid",I,A],H=()=>["auto",{span:["full",Pe,I,A]},Pe,I,A],Y=()=>[Pe,"auto",I,A],X=()=>["auto","min","max","fr",I,A],Q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...D()],$=()=>[Ve,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],C=()=>[e,I,A],q=()=>[...M(),Oo,$o,{position:[I,A]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],se=()=>["auto","cover","contain",md,cd,{size:[I,A]}],w=()=>[Gt,Ge,Me],k=()=>["","none","full",l,I,A],E=()=>["",z,Ge,Me],P=()=>["solid","dashed","dotted","double"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>[z,Gt,Oo,$o],B=()=>["","none",g,I,A],F=()=>["none",z,I,A],ae=()=>["none",z,I,A],Se=()=>[z,I,A],pe=()=>[Ve,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ke],breakpoint:[ke],color:[sd],container:[ke],"drop-shadow":[ke],ease:["in","out","in-out"],font:[ld],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ke],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ke],shadow:[ke],spacing:["px",z],text:[ke],"text-shadow":[ke],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ve,A,I,x]}],container:["container"],columns:[{columns:[z,A,I,c]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:J()}],"inset-x":[{"inset-x":J()}],"inset-y":[{"inset-y":J()}],start:[{start:J()}],end:[{end:J()}],top:[{top:J()}],right:[{right:J()}],bottom:[{bottom:J()}],left:[{left:J()}],visibility:["visible","invisible","collapse"],z:[{z:[Pe,"auto",I,A]}],basis:[{basis:[Ve,"full","auto",c,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[z,Ve,"auto","initial","none",A]}],grow:[{grow:["",z,I,A]}],shrink:[{shrink:["",z,I,A]}],order:[{order:[Pe,"first","last","none",I,A]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:$()}],w:[{w:[c,"screen",...$()]}],"min-w":[{"min-w":[c,"screen","none",...$()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[r]},...$()]}],h:[{h:["screen","lh",...$()]}],"min-h":[{"min-h":["screen","lh","none",...$()]}],"max-h":[{"max-h":["screen","lh",...$()]}],"font-size":[{text:["base",n,Ge,Me]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,I,Yt]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gt,A]}],"font-family":[{font:[ud,A,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,I,A]}],"line-clamp":[{"line-clamp":[z,"none",I,Yt]}],leading:[{leading:[i,...D()]}],"list-image":[{"list-image":["none",I,A]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",I,A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:[z,"from-font","auto",I,Me]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[z,"auto",I,A]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",I,A]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",I,A]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:q()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:se()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pe,I,A],radial:["",I,A],conic:[Pe,I,A]},fd,dd]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:w()}],"gradient-via-pos":[{via:w()}],"gradient-to-pos":[{to:w()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:k()}],"rounded-s":[{"rounded-s":k()}],"rounded-e":[{"rounded-e":k()}],"rounded-t":[{"rounded-t":k()}],"rounded-r":[{"rounded-r":k()}],"rounded-b":[{"rounded-b":k()}],"rounded-l":[{"rounded-l":k()}],"rounded-ss":[{"rounded-ss":k()}],"rounded-se":[{"rounded-se":k()}],"rounded-ee":[{"rounded-ee":k()}],"rounded-es":[{"rounded-es":k()}],"rounded-tl":[{"rounded-tl":k()}],"rounded-tr":[{"rounded-tr":k()}],"rounded-br":[{"rounded-br":k()}],"rounded-bl":[{"rounded-bl":k()}],"border-w":[{border:E()}],"border-w-x":[{"border-x":E()}],"border-w-y":[{"border-y":E()}],"border-w-s":[{"border-s":E()}],"border-w-e":[{"border-e":E()}],"border-w-t":[{"border-t":E()}],"border-w-r":[{"border-r":E()}],"border-w-b":[{"border-b":E()}],"border-w-l":[{"border-l":E()}],"divide-x":[{"divide-x":E()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":E()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...P(),"hidden","none"]}],"divide-style":[{divide:[...P(),"hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:[...P(),"none","hidden"]}],"outline-offset":[{"outline-offset":[z,I,A]}],"outline-w":[{outline:["",z,Ge,Me]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",u,yt,gt]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",a,yt,gt]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[z,Me]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":E()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",m,yt,gt]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[z,I,A]}],"mix-blend":[{"mix-blend":[...O(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":O()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[z]}],"mask-image-linear-from-pos":[{"mask-linear-from":j()}],"mask-image-linear-to-pos":[{"mask-linear-to":j()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":j()}],"mask-image-t-to-pos":[{"mask-t-to":j()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":j()}],"mask-image-r-to-pos":[{"mask-r-to":j()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":j()}],"mask-image-b-to-pos":[{"mask-b-to":j()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":j()}],"mask-image-l-to-pos":[{"mask-l-to":j()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":j()}],"mask-image-x-to-pos":[{"mask-x-to":j()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":j()}],"mask-image-y-to-pos":[{"mask-y-to":j()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[I,A]}],"mask-image-radial-from-pos":[{"mask-radial-from":j()}],"mask-image-radial-to-pos":[{"mask-radial-to":j()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[z]}],"mask-image-conic-from-pos":[{"mask-conic-from":j()}],"mask-image-conic-to-pos":[{"mask-conic-to":j()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:q()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:se()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",I,A]}],filter:[{filter:["","none",I,A]}],blur:[{blur:B()}],brightness:[{brightness:[z,I,A]}],contrast:[{contrast:[z,I,A]}],"drop-shadow":[{"drop-shadow":["","none",p,yt,gt]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",z,I,A]}],"hue-rotate":[{"hue-rotate":[z,I,A]}],invert:[{invert:["",z,I,A]}],saturate:[{saturate:[z,I,A]}],sepia:[{sepia:["",z,I,A]}],"backdrop-filter":[{"backdrop-filter":["","none",I,A]}],"backdrop-blur":[{"backdrop-blur":B()}],"backdrop-brightness":[{"backdrop-brightness":[z,I,A]}],"backdrop-contrast":[{"backdrop-contrast":[z,I,A]}],"backdrop-grayscale":[{"backdrop-grayscale":["",z,I,A]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[z,I,A]}],"backdrop-invert":[{"backdrop-invert":["",z,I,A]}],"backdrop-opacity":[{"backdrop-opacity":[z,I,A]}],"backdrop-saturate":[{"backdrop-saturate":[z,I,A]}],"backdrop-sepia":[{"backdrop-sepia":["",z,I,A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",I,A]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[z,"initial",I,A]}],ease:[{ease:["linear","initial",v,I,A]}],delay:[{delay:[z,I,A]}],animate:[{animate:["none",b,I,A]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,I,A]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:F()}],"rotate-x":[{"rotate-x":F()}],"rotate-y":[{"rotate-y":F()}],"rotate-z":[{"rotate-z":F()}],scale:[{scale:ae()}],"scale-x":[{"scale-x":ae()}],"scale-y":[{"scale-y":ae()}],"scale-z":[{"scale-z":ae()}],"scale-3d":["scale-3d"],skew:[{skew:Se()}],"skew-x":[{"skew-x":Se()}],"skew-y":[{"skew-y":Se()}],transform:[{transform:[I,A,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:pe()}],"translate-x":[{"translate-x":pe()}],"translate-y":[{"translate-y":pe()}],"translate-z":[{"translate-z":pe()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",I,A]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",I,A]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[z,Ge,Me,Yt]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},yd=Kc(gd);function ie(...e){return yd(_s(e))}const vd=Ac("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Ye({className:e,variant:t,size:n,asChild:o=!1,...s}){const i=o?Jr:"button";return h.jsx(i,{"data-slot":"button",className:ie(vd({variant:t,size:n,className:e})),...s})}var Nt="Switch",[bd]=Ur(Nt),[wd,xd]=bd(Nt),Zs=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:o,checked:s,defaultChecked:i,required:r,disabled:c,value:d="on",onCheckedChange:l,form:u,...a}=e,[m,p]=f.useState(null),g=Go(t,S=>p(S)),y=f.useRef(!1),x=m?u||!!m.closest("form"):!0,[v,b]=Fr({prop:s,defaultProp:i??!1,onChange:l,caller:Nt});return h.jsxs(wd,{scope:n,checked:v,disabled:c,children:[h.jsx(we.button,{type:"button",role:"switch","aria-checked":v,"aria-required":r,"data-state":or(v),"data-disabled":c?"":void 0,disabled:c,value:d,...a,ref:g,onClick:Hr(e.onClick,S=>{b(M=>!M),x&&(y.current=S.isPropagationStopped(),y.current||S.stopPropagation())})}),x&&h.jsx(nr,{control:m,bubbles:!y.current,name:o,value:d,checked:v,required:r,disabled:c,form:u,style:{transform:"translateX(-100%)"}})]})});Zs.displayName=Nt;var er="SwitchThumb",tr=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...o}=e,s=xd(er,n);return h.jsx(we.span,{"data-state":or(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:t})});tr.displayName=er;var kd="SwitchBubbleInput",nr=f.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:o=!0,...s},i)=>{const r=f.useRef(null),c=Go(r,i),d=Wr(n),l=qr(t);return f.useEffect(()=>{const u=r.current;if(!u)return;const a=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(a,"checked").set;if(d!==n&&p){const g=new Event("click",{bubbles:o});p.call(u,n),u.dispatchEvent(g)}},[d,n,o]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nr.displayName=kd;function or(e){return e?"checked":"unchecked"}var Sd=Zs,Td=tr;function vt({className:e,...t}){return h.jsx(Sd,{"data-slot":"switch",className:ie("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:h.jsx(Td,{"data-slot":"switch-thumb",className:ie("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function sr({...e}){return h.jsx(Yo,{"data-slot":"dialog",...e})}function Pd({...e}){return h.jsx(Xo,{"data-slot":"dialog-portal",...e})}function Cd({className:e,...t}){return h.jsx(Qo,{"data-slot":"dialog-overlay",className:ie("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function rr({className:e,children:t,...n}){return h.jsxs(Pd,{"data-slot":"dialog-portal",children:[h.jsx(Cd,{}),h.jsxs(Ko,{"data-slot":"dialog-content",className:ie("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,h.jsxs(Gr,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[h.jsx(ds,{}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ir({className:e,...t}){return h.jsx("div",{"data-slot":"dialog-header",className:ie("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ar({className:e,...t}){return h.jsx(Yr,{"data-slot":"dialog-title",className:ie("text-lg leading-none font-semibold",e),...t})}function lr({className:e,...t}){return h.jsx(Kr,{"data-slot":"dialog-description",className:ie("text-muted-foreground text-sm",e),...t})}function Dd({isSettingsOpen:e,onOpenChange:t}){const[n,o]=f.useState(!1),[s,i]=f.useState(!1),[r,c]=f.useState({necessary:!0,analytics:!1,marketing:!1,preferences:!1}),d=e??s,l=p=>{t?t(p):i(p)};f.useEffect(()=>{localStorage.getItem("cookieConsent")||setTimeout(()=>o(!0),1e3)},[]);const u=()=>{const p={necessary:!0,analytics:!0,marketing:!0,preferences:!0};localStorage.setItem("cookieConsent",JSON.stringify(p)),o(!1)},a=()=>{const p={necessary:!0,analytics:!1,marketing:!1,preferences:!1};localStorage.setItem("cookieConsent",JSON.stringify(p)),o(!1)},m=()=>{localStorage.setItem("cookieConsent",JSON.stringify(r)),l(!1),o(!1)};return h.jsxs(h.Fragment,{children:[h.jsx(Ra,{children:n&&h.jsx(Ec.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"fixed bottom-4 right-4 z-[9999] max-w-[90vw] md:max-w-[400px]",children:h.jsx("div",{className:"bg-white/95 dark:bg-gray-900/95 backdrop-blur-md rounded-xl shadow-xl border border-gray-200 dark:border-gray-800 p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"flex-shrink-0 p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:h.jsx($i,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),h.jsxs("div",{className:"flex-1 mr-6",children:[h.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-1 font-medium",children:"Cookie Preferences"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 leading-relaxed mb-3",children:"We use cookies to improve your experience. By using our site, you agree to our use of cookies."}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx(Ye,{onClick:u,size:"sm",className:"h-8 text-xs bg-purple-600 hover:bg-purple-700 text-white",children:"Accept"}),h.jsx(Ye,{onClick:a,variant:"outline",size:"sm",className:"h-8 text-xs",children:"Decline"}),h.jsx(Ye,{onClick:()=>l(!0),variant:"ghost",size:"sm",className:"h-8 text-xs px-2",children:"Manage"})]})]}),h.jsxs("button",{onClick:a,className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:[h.jsx(ds,{className:"w-4 h-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})})})}),h.jsx(sr,{open:d,onOpenChange:l,children:h.jsxs(rr,{className:"max-w-2xl",children:[h.jsxs(ir,{children:[h.jsxs(ar,{className:"flex items-center gap-2",children:[h.jsx(Oi,{className:"w-5 h-5 text-purple-600"}),"Cookie Preferences"]}),h.jsx(lr,{children:"Manage your cookie preferences. You can enable or disable different types of cookies below."})]}),h.jsxs("div",{className:"space-y-6 py-4",children:[h.jsxs("div",{className:"flex items-start justify-between gap-4 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("h4",{className:"font-semibold",children:"Necessary Cookies"}),h.jsx("span",{className:"text-xs bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 px-2 py-0.5 rounded-full",children:"Always Active"})]}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"These cookies are essential for the website to function properly. They enable core functionality such as security, network management, and accessibility."})]}),h.jsx(vt,{checked:!0,disabled:!0})]}),h.jsxs("div",{className:"flex items-start justify-between gap-4 p-4 border-2 border-gray-200 dark:border-gray-700 rounded-lg",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"font-semibold mb-1",children:"Analytics Cookies"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"These cookies help us understand how visitors interact with our website by collecting and reporting information anonymously."})]}),h.jsx(vt,{checked:r.analytics,onCheckedChange:p=>c({...r,analytics:p})})]}),h.jsxs("div",{className:"flex items-start justify-between gap-4 p-4 border-2 border-gray-200 dark:border-gray-700 rounded-lg",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"font-semibold mb-1",children:"Marketing Cookies"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"These cookies are used to track visitors across websites. The intention is to display ads that are relevant and engaging for the individual user."})]}),h.jsx(vt,{checked:r.marketing,onCheckedChange:p=>c({...r,marketing:p})})]}),h.jsxs("div",{className:"flex items-start justify-between gap-4 p-4 border-2 border-gray-200 dark:border-gray-700 rounded-lg",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"font-semibold mb-1",children:"Preference Cookies"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"These cookies enable the website to remember your choices (such as language or region) and provide enhanced, more personal features."})]}),h.jsx(vt,{checked:r.preferences,onCheckedChange:p=>c({...r,preferences:p})})]})]}),h.jsxs("div",{className:"flex gap-3 mt-4",children:[h.jsx(Ye,{onClick:m,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600",children:"Save Preferences"}),h.jsx(Ye,{onClick:()=>l(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})})]})}const Ed={"nav.home":{en:"Home",ro:"Acas",hu:"Foldal"},"nav.services":{en:"Services",ro:"Servicii",hu:"Szolgltatsok"},"nav.about":{en:"About Us",ro:"Despre Noi",hu:"Rlunk"},"nav.contact":{en:"Contact",ro:"Contact",hu:"Kapcsolat"},"nav.pricing":{en:"Pricing",ro:"Preuri",hu:"rak"},"nav.faq":{en:"FAQ",ro:"ntrebri Frecvente",hu:"GYIK"},"nav.login":{en:"Login",ro:"Autentificare",hu:"Bejelentkezs"},"nav.dashboard":{en:"Dashboard",ro:"Panou",hu:"Irnytpult"},"nav.logout":{en:"Logout",ro:"Deconectare",hu:"Kijelentkezs"},"nav.language":{en:"Language",ro:"Limb",hu:"Nyelv"},"action.submit":{en:"Submit",ro:"Trimite",hu:"Klds"},"action.cancel":{en:"Cancel",ro:"Anuleaz",hu:"Mgse"},"action.save":{en:"Save",ro:"Salveaz",hu:"Ments"},"action.delete":{en:"Delete",ro:"terge",hu:"Trls"},"action.edit":{en:"Edit",ro:"Editeaz",hu:"Szerkeszts"},"action.view":{en:"View",ro:"Vizualizeaz",hu:"Megtekints"},"action.download":{en:"Download",ro:"Descarc",hu:"Letlts"},"action.upload":{en:"Upload",ro:"ncarc",hu:"Feltlts"},"action.search":{en:"Search",ro:"Caut",hu:"Keress"},"action.filter":{en:"Filter",ro:"Filtreaz",hu:"Szrs"},"action.confirm":{en:"Confirm",ro:"Confirm",hu:"Megersts"},"action.back":{en:"Back",ro:"napoi",hu:"Vissza"},"action.next":{en:"Next",ro:"Urmtorul",hu:"Kvetkez"},"action.previous":{en:"Previous",ro:"Anterior",hu:"Elz"},"service.house_move":{en:"House Move",ro:"Mutare Locuin",hu:"Kltzs"},"service.man_van":{en:"Man & Van",ro:"Brbat & Dub",hu:"Furgon Szolgltats"},"service.furniture":{en:"Furniture Delivery",ro:"Livrare Mobilier",hu:"Btor Szllts"},"service.office_move":{en:"Office Move",ro:"Mutare Birou",hu:"Iroda Kltztets"},"service.store_pickup":{en:"Store Pickup",ro:"Ridicare din Magazin",hu:"ruhz tvtel"},"booking.title":{en:"Get Your Quote",ro:"Obine Oferta",hu:"Krjen Ajnlatot"},"booking.pickup_address":{en:"Pickup Address",ro:"Adresa Ridicare",hu:"Felv Cmi"},"booking.delivery_address":{en:"Delivery Address",ro:"Adresa Livrare",hu:"Szlltsi Cm"},"booking.date":{en:"Moving Date",ro:"Data Mutrii",hu:"Kltzs Dtuma"},"booking.time":{en:"Preferred Time",ro:"Ora Preferat",hu:"Preferlt Idpont"},"booking.items":{en:"Select Items",ro:"Selecteaz Obiecte",hu:"Trgyak Kivlasztsa"},"booking.total_volume":{en:"Total Volume",ro:"Volum Total",hu:"Teljes Trfogat"},"booking.estimated_price":{en:"Estimated Price",ro:"Pre Estimat",hu:"Becslt r"},"booking.contact_info":{en:"Contact Information",ro:"Informaii Contact",hu:"Kapcsolati Adatok"},"booking.full_name":{en:"Full Name",ro:"Nume Complet",hu:"Teljes Nv"},"booking.email":{en:"Email Address",ro:"Adres Email",hu:"Email Cm"},"booking.phone":{en:"Phone Number",ro:"Numr Telefon",hu:"Telefonszm"},"booking.notes":{en:"Additional Notes",ro:"Notie Adiionale",hu:"Tovbbi Megjegyzsek"},"booking.get_quote":{en:"Get Quote",ro:"Obine Ofert",hu:"Ajnlatkrs"},"dashboard.welcome":{en:"Welcome back",ro:"Bine ai revenit",hu:"dvzljk vissza"},"dashboard.my_jobs":{en:"My Jobs",ro:"Joburile Mele",hu:"Munkim"},"dashboard.earnings":{en:"Earnings",ro:"Ctiguri",hu:"Bevtel"},"dashboard.profile":{en:"Profile",ro:"Profil",hu:"Profil"},"dashboard.settings":{en:"Settings",ro:"Setri",hu:"Belltsok"},"dashboard.notifications":{en:"Notifications",ro:"Notificri",hu:"rtestsek"},"dashboard.messages":{en:"Messages",ro:"Mesaje",hu:"zenetek"},"status.pending":{en:"Pending",ro:"n Ateptare",hu:"Folyamatban"},"status.accepted":{en:"Accepted",ro:"Acceptat",hu:"Elfogadva"},"status.in_progress":{en:"In Progress",ro:"n Desfurare",hu:"Folyamatban"},"status.completed":{en:"Completed",ro:"Finalizat",hu:"Befejezve"},"status.cancelled":{en:"Cancelled",ro:"Anulat",hu:"Trlve"},"time.today":{en:"Today",ro:"Astzi",hu:"Ma"},"time.tomorrow":{en:"Tomorrow",ro:"Mine",hu:"Holnap"},"time.yesterday":{en:"Yesterday",ro:"Ieri",hu:"Tegnap"},"time.this_week":{en:"This Week",ro:"Sptmna Asta",hu:"Ezen a hten"},"time.this_month":{en:"This Month",ro:"Luna Asta",hu:"Ebben a hnapban"},"payment.method":{en:"Payment Method",ro:"Metod Plat",hu:"Fizetsi Md"},"payment.card":{en:"Credit/Debit Card",ro:"Card Credit/Debit",hu:"Hitelkrtya/Bankkrtya"},"payment.cash":{en:"Cash",ro:"Numerar",hu:"Kszpnz"},"payment.bank_transfer":{en:"Bank Transfer",ro:"Transfer Bancar",hu:"Banki tutals"},"payment.total":{en:"Total",ro:"Total",hu:"sszesen"},"payment.subtotal":{en:"Subtotal",ro:"Subtotal",hu:"Rszsszeg"},"payment.vat":{en:"VAT",ro:"TVA",hu:"FA"},"notif.new_job":{en:"New job available",ro:"Job nou disponibil",hu:"j munka elrhet"},"notif.job_accepted":{en:"Job accepted",ro:"Job acceptat",hu:"Munka elfogadva"},"notif.job_completed":{en:"Job completed",ro:"Job finalizat",hu:"Munka befejezve"},"notif.payment_received":{en:"Payment received",ro:"Plat primit",hu:"Fizets megrkezett"},"error.required_field":{en:"This field is required",ro:"Acest cmp este obligatoriu",hu:"Ez a mez ktelez"},"error.invalid_email":{en:"Invalid email address",ro:"Adres email invalid",hu:"rvnytelen email cm"},"error.invalid_phone":{en:"Invalid phone number",ro:"Numr telefon invalid",hu:"rvnytelen telefonszm"},"error.something_wrong":{en:"Something went wrong",ro:"Ceva nu a mers bine",hu:"Valami hiba trtnt"},"success.saved":{en:"Successfully saved",ro:"Salvat cu succes",hu:"Sikeresen mentve"},"success.updated":{en:"Successfully updated",ro:"Actualizat cu succes",hu:"Sikeresen frisstve"},"success.deleted":{en:"Successfully deleted",ro:"ters cu succes",hu:"Sikeresen trlve"},"success.sent":{en:"Successfully sent",ro:"Trimis cu succes",hu:"Sikeresen elkldve"},"admin.dashboard":{en:"Admin Dashboard",ro:"Panou Admin",hu:"Admin Irnytpult"},"admin.users":{en:"Users",ro:"Utilizatori",hu:"Felhasznlk"},"admin.jobs":{en:"Jobs",ro:"Joburi",hu:"Munkk"},"admin.drivers":{en:"Drivers",ro:"oferi",hu:"Sofrk"},"admin.customers":{en:"Customers",ro:"Clieni",hu:"gyfelek"},"admin.reports":{en:"Reports",ro:"Rapoarte",hu:"Jelentsek"},"admin.settings":{en:"Settings",ro:"Setri",hu:"Belltsok"},"admin.language_settings":{en:"Language Settings",ro:"Setri Limb",hu:"Nyelvi Belltsok"},"admin.employee_language":{en:"Employee Language Preferences",ro:"Preferine Limb Angajai",hu:"Alkalmazotti Nyelvi Belltsok"}};function Ce(){return localStorage.getItem("app_language")||"en"}function Sn(e){localStorage.setItem("app_language",e),document.documentElement.lang=e,window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:e}}))}function Ad(e,t){const n=t||Ce(),o=Ed[e];return o?o[n]||o.en:(console.warn(`Translation missing for key: ${e}`),e)}function Ym(e,t,n=!1){const o={userId:e,language:t,autoDetect:n,updatedAt:new Date};localStorage.setItem(`employee_language_${e}`,JSON.stringify(o)),JSON.parse(localStorage.getItem("user")||"{}").id===e&&Sn(t)}function Km(){const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n&&n.startsWith("employee_language_")){const o=localStorage.getItem(n);o&&e.push(JSON.parse(o))}}return e}function Id(e,t){const n=t||Ce(),o={en:"en-GB",ro:"ro-RO",hu:"hu-HU"}[n];return new Intl.NumberFormat(o).format(e)}function Md(e,t){const n=t||Ce(),o={en:"en-GB",ro:"ro-RO",hu:"hu-HU"}[n];return new Intl.NumberFormat(o,{style:"currency",currency:"GBP"}).format(e)}function Nd(e,t){const n=t||Ce(),o={en:"en-GB",ro:"ro-RO",hu:"hu-HU"}[n];return new Intl.DateTimeFormat(o,{year:"numeric",month:"long",day:"numeric"}).format(e)}function Xm(){const[e,t]=T.useState(Ce());return T.useEffect(()=>{const o=s=>{t(s.detail.language)};return window.addEventListener("languageChanged",o),()=>{window.removeEventListener("languageChanged",o)}},[]),{t:T.useCallback(o=>Ad(o,e),[e]),language:e,setLanguage:Sn,formatNumber:o=>Id(o,e),formatCurrency:o=>Md(o,e),formatDate:o=>Nd(o,e)}}const Rd=f.createContext({language:"en",setLanguage:()=>{}});function jd({children:e}){const[t,n]=f.useState(Ce());f.useEffect(()=>{const s=i=>{n(i.detail.language)};return window.addEventListener("languageChanged",s),n(Ce()),()=>window.removeEventListener("languageChanged",s)},[]);const o=s=>{Sn(s),n(s)};return h.jsx(Rd.Provider,{value:{language:t,setLanguage:o},children:e})}var Vo=1,Ld=.9,$d=.8,Od=.17,Kt=.1,Xt=.999,Vd=.9999,Bd=.99,_d=/[\\\/_+.#"@\[\(\{&]/,zd=/[\\\/_+.#"@\[\(\{&]/g,Jd=/[\s-]/,cr=/[\s-]/g;function mn(e,t,n,o,s,i,r){if(i===t.length)return s===e.length?Vo:Bd;var c=`${s},${i}`;if(r[c]!==void 0)return r[c];for(var d=o.charAt(i),l=n.indexOf(d,s),u=0,a,m,p,g;l>=0;)a=mn(e,t,n,o,l+1,i+1,r),a>u&&(l===s?a*=Vo:_d.test(e.charAt(l-1))?(a*=$d,p=e.slice(s,l-1).match(zd),p&&s>0&&(a*=Math.pow(Xt,p.length))):Jd.test(e.charAt(l-1))?(a*=Ld,g=e.slice(s,l-1).match(cr),g&&s>0&&(a*=Math.pow(Xt,g.length))):(a*=Od,s>0&&(a*=Math.pow(Xt,l-s))),e.charAt(l)!==t.charAt(i)&&(a*=Vd)),(a<Kt&&n.charAt(l-1)===o.charAt(i+1)||o.charAt(i+1)===o.charAt(i)&&n.charAt(l-1)!==o.charAt(i))&&(m=mn(e,t,n,o,l+1,i+2,r),m*Kt>a&&(a=m*Kt)),a>u&&(u=a),l=n.indexOf(d,l+1);return r[c]=u,u}function Bo(e){return e.toLowerCase().replace(cr," ")}function Fd(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,mn(e,t,Bo(e),Bo(t),0,0,{})}var Ke='[cmdk-group=""]',Qt='[cmdk-group-items=""]',Ud='[cmdk-group-heading=""]',dr='[cmdk-item=""]',_o=`${dr}:not([aria-disabled="true"])`,fn="cmdk-item-select",Be="data-value",Hd=(e,t,n)=>Fd(e,t,n),ur=f.createContext(void 0),rt=()=>f.useContext(ur),mr=f.createContext(void 0),Tn=()=>f.useContext(mr),fr=f.createContext(void 0),hr=f.forwardRef((e,t)=>{let n=_e(()=>{var w,k;return{search:"",value:(k=(w=e.value)!=null?w:e.defaultValue)!=null?k:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),o=_e(()=>new Set),s=_e(()=>new Map),i=_e(()=>new Map),r=_e(()=>new Set),c=pr(e),{label:d,children:l,value:u,onValueChange:a,filter:m,shouldFilter:p,loop:g,disablePointerSelection:y=!1,vimBindings:x=!0,...v}=e,b=Fe(),S=Fe(),M=Fe(),R=f.useRef(null),N=nu();Ne(()=>{if(u!==void 0){let w=u.trim();n.current.value=w,L.emit()}},[u]),Ne(()=>{N(6,X)},[]);let L=f.useMemo(()=>({subscribe:w=>(r.current.add(w),()=>r.current.delete(w)),snapshot:()=>n.current,setState:(w,k,E)=>{var P,O,j,B;if(!Object.is(n.current[w],k)){if(n.current[w]=k,w==="search")Y(),G(),N(1,H);else if(w==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let F=document.getElementById(M);F?F.focus():(P=document.getElementById(b))==null||P.focus()}if(N(7,()=>{var F;n.current.selectedItemId=(F=Q())==null?void 0:F.id,L.emit()}),E||N(5,X),((O=c.current)==null?void 0:O.value)!==void 0){let F=k??"";(B=(j=c.current).onValueChange)==null||B.call(j,F);return}}L.emit()}},emit:()=>{r.current.forEach(w=>w())}}),[]),D=f.useMemo(()=>({value:(w,k,E)=>{var P;k!==((P=i.current.get(w))==null?void 0:P.value)&&(i.current.set(w,{value:k,keywords:E}),n.current.filtered.items.set(w,J(k,E)),N(2,()=>{G(),L.emit()}))},item:(w,k)=>(o.current.add(w),k&&(s.current.has(k)?s.current.get(k).add(w):s.current.set(k,new Set([w]))),N(3,()=>{Y(),G(),n.current.value||H(),L.emit()}),()=>{i.current.delete(w),o.current.delete(w),n.current.filtered.items.delete(w);let E=Q();N(4,()=>{Y(),E?.getAttribute("id")===w&&H(),L.emit()})}),group:w=>(s.current.has(w)||s.current.set(w,new Set),()=>{i.current.delete(w),s.current.delete(w)}),filter:()=>c.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:b,inputId:M,labelId:S,listInnerRef:R}),[]);function J(w,k){var E,P;let O=(P=(E=c.current)==null?void 0:E.filter)!=null?P:Hd;return w?O(w,n.current.search,k):0}function G(){if(!n.current.search||c.current.shouldFilter===!1)return;let w=n.current.filtered.items,k=[];n.current.filtered.groups.forEach(P=>{let O=s.current.get(P),j=0;O.forEach(B=>{let F=w.get(B);j=Math.max(F,j)}),k.push([P,j])});let E=R.current;W().sort((P,O)=>{var j,B;let F=P.getAttribute("id"),ae=O.getAttribute("id");return((j=w.get(ae))!=null?j:0)-((B=w.get(F))!=null?B:0)}).forEach(P=>{let O=P.closest(Qt);O?O.appendChild(P.parentElement===O?P:P.closest(`${Qt} > *`)):E.appendChild(P.parentElement===E?P:P.closest(`${Qt} > *`))}),k.sort((P,O)=>O[1]-P[1]).forEach(P=>{var O;let j=(O=R.current)==null?void 0:O.querySelector(`${Ke}[${Be}="${encodeURIComponent(P[0])}"]`);j?.parentElement.appendChild(j)})}function H(){let w=W().find(E=>E.getAttribute("aria-disabled")!=="true"),k=w?.getAttribute(Be);L.setState("value",k||void 0)}function Y(){var w,k,E,P;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=o.current.size;return}n.current.filtered.groups=new Set;let O=0;for(let j of o.current){let B=(k=(w=i.current.get(j))==null?void 0:w.value)!=null?k:"",F=(P=(E=i.current.get(j))==null?void 0:E.keywords)!=null?P:[],ae=J(B,F);n.current.filtered.items.set(j,ae),ae>0&&O++}for(let[j,B]of s.current)for(let F of B)if(n.current.filtered.items.get(F)>0){n.current.filtered.groups.add(j);break}n.current.filtered.count=O}function X(){var w,k,E;let P=Q();P&&(((w=P.parentElement)==null?void 0:w.firstChild)===P&&((E=(k=P.closest(Ke))==null?void 0:k.querySelector(Ud))==null||E.scrollIntoView({block:"nearest"})),P.scrollIntoView({block:"nearest"}))}function Q(){var w;return(w=R.current)==null?void 0:w.querySelector(`${dr}[aria-selected="true"]`)}function W(){var w;return Array.from(((w=R.current)==null?void 0:w.querySelectorAll(_o))||[])}function V(w){let k=W()[w];k&&L.setState("value",k.getAttribute(Be))}function $(w){var k;let E=Q(),P=W(),O=P.findIndex(B=>B===E),j=P[O+w];(k=c.current)!=null&&k.loop&&(j=O+w<0?P[P.length-1]:O+w===P.length?P[0]:P[O+w]),j&&L.setState("value",j.getAttribute(Be))}function C(w){let k=Q(),E=k?.closest(Ke),P;for(;E&&!P;)E=w>0?eu(E,Ke):tu(E,Ke),P=E?.querySelector(_o);P?L.setState("value",P.getAttribute(Be)):$(w)}let q=()=>V(W().length-1),U=w=>{w.preventDefault(),w.metaKey?q():w.altKey?C(1):$(1)},se=w=>{w.preventDefault(),w.metaKey?V(0):w.altKey?C(-1):$(-1)};return f.createElement(we.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:w=>{var k;(k=v.onKeyDown)==null||k.call(v,w);let E=w.nativeEvent.isComposing||w.keyCode===229;if(!(w.defaultPrevented||E))switch(w.key){case"n":case"j":{x&&w.ctrlKey&&U(w);break}case"ArrowDown":{U(w);break}case"p":case"k":{x&&w.ctrlKey&&se(w);break}case"ArrowUp":{se(w);break}case"Home":{w.preventDefault(),V(0);break}case"End":{w.preventDefault(),q();break}case"Enter":{w.preventDefault();let P=Q();if(P){let O=new Event(fn);P.dispatchEvent(O)}}}}},f.createElement("label",{"cmdk-label":"",htmlFor:D.inputId,id:D.labelId,style:su},d),Rt(e,w=>f.createElement(mr.Provider,{value:L},f.createElement(ur.Provider,{value:D},w))))}),Wd=f.forwardRef((e,t)=>{var n,o;let s=Fe(),i=f.useRef(null),r=f.useContext(fr),c=rt(),d=pr(e),l=(o=(n=d.current)==null?void 0:n.forceMount)!=null?o:r?.forceMount;Ne(()=>{if(!l)return c.item(s,r?.id)},[l]);let u=gr(s,i,[e.value,e.children,i],e.keywords),a=Tn(),m=De(N=>N.value&&N.value===u.current),p=De(N=>l||c.filter()===!1?!0:N.search?N.filtered.items.get(s)>0:!0);f.useEffect(()=>{let N=i.current;if(!(!N||e.disabled))return N.addEventListener(fn,g),()=>N.removeEventListener(fn,g)},[p,e.onSelect,e.disabled]);function g(){var N,L;y(),(L=(N=d.current).onSelect)==null||L.call(N,u.current)}function y(){a.setState("value",u.current,!0)}if(!p)return null;let{disabled:x,value:v,onSelect:b,forceMount:S,keywords:M,...R}=e;return f.createElement(we.div,{ref:tt(i,t),...R,id:s,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!m,"data-disabled":!!x,"data-selected":!!m,onPointerMove:x||c.getDisablePointerSelection()?void 0:y,onClick:x?void 0:g},e.children)}),qd=f.forwardRef((e,t)=>{let{heading:n,children:o,forceMount:s,...i}=e,r=Fe(),c=f.useRef(null),d=f.useRef(null),l=Fe(),u=rt(),a=De(p=>s||u.filter()===!1?!0:p.search?p.filtered.groups.has(r):!0);Ne(()=>u.group(r),[]),gr(r,c,[e.value,e.heading,d]);let m=f.useMemo(()=>({id:r,forceMount:s}),[s]);return f.createElement(we.div,{ref:tt(c,t),...i,"cmdk-group":"",role:"presentation",hidden:a?void 0:!0},n&&f.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:l},n),Rt(e,p=>f.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?l:void 0},f.createElement(fr.Provider,{value:m},p))))}),Gd=f.forwardRef((e,t)=>{let{alwaysRender:n,...o}=e,s=f.useRef(null),i=De(r=>!r.search);return!n&&!i?null:f.createElement(we.div,{ref:tt(s,t),...o,"cmdk-separator":"",role:"separator"})}),Yd=f.forwardRef((e,t)=>{let{onValueChange:n,...o}=e,s=e.value!=null,i=Tn(),r=De(l=>l.search),c=De(l=>l.selectedItemId),d=rt();return f.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),f.createElement(we.input,{ref:t,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":c,id:d.inputId,type:"text",value:s?e.value:r,onChange:l=>{s||i.setState("search",l.target.value),n?.(l.target.value)}})}),Kd=f.forwardRef((e,t)=>{let{children:n,label:o="Suggestions",...s}=e,i=f.useRef(null),r=f.useRef(null),c=De(l=>l.selectedItemId),d=rt();return f.useEffect(()=>{if(r.current&&i.current){let l=r.current,u=i.current,a,m=new ResizeObserver(()=>{a=requestAnimationFrame(()=>{let p=l.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(l),()=>{cancelAnimationFrame(a),m.unobserve(l)}}},[]),f.createElement(we.div,{ref:tt(i,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":o,id:d.listId},Rt(e,l=>f.createElement("div",{ref:tt(r,d.listInnerRef),"cmdk-list-sizer":""},l)))}),Xd=f.forwardRef((e,t)=>{let{open:n,onOpenChange:o,overlayClassName:s,contentClassName:i,container:r,...c}=e;return f.createElement(Yo,{open:n,onOpenChange:o},f.createElement(Xo,{container:r},f.createElement(Qo,{"cmdk-overlay":"",className:s}),f.createElement(Ko,{"aria-label":e.label,"cmdk-dialog":"",className:i},f.createElement(hr,{ref:t,...c}))))}),Qd=f.forwardRef((e,t)=>De(n=>n.filtered.count===0)?f.createElement(we.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Zd=f.forwardRef((e,t)=>{let{progress:n,children:o,label:s="Loading...",...i}=e;return f.createElement(we.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Rt(e,r=>f.createElement("div",{"aria-hidden":!0},r)))}),Re=Object.assign(hr,{List:Kd,Item:Wd,Input:Yd,Group:qd,Separator:Gd,Dialog:Xd,Empty:Qd,Loading:Zd});function eu(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function tu(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function pr(e){let t=f.useRef(e);return Ne(()=>{t.current=e}),t}var Ne=typeof window>"u"?f.useEffect:f.useLayoutEffect;function _e(e){let t=f.useRef();return t.current===void 0&&(t.current=e()),t}function De(e){let t=Tn(),n=()=>e(t.snapshot());return f.useSyncExternalStore(t.subscribe,n,n)}function gr(e,t,n,o=[]){let s=f.useRef(),i=rt();return Ne(()=>{var r;let c=(()=>{var l;for(let u of n){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(l=u.current.textContent)==null?void 0:l.trim():s.current}})(),d=o.map(l=>l.trim());i.value(e,c,d),(r=t.current)==null||r.setAttribute(Be,c),s.current=c}),s}var nu=()=>{let[e,t]=f.useState(),n=_e(()=>new Map);return Ne(()=>{n.current.forEach(o=>o()),n.current=new Map},[e]),(o,s)=>{n.current.set(o,s),t({})}};function ou(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Rt({asChild:e,children:t},n){return e&&f.isValidElement(t)?f.cloneElement(ou(t),{ref:t.ref},n(t.props.children)):n(t)}var su={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function ru({className:e,...t}){return h.jsx(Re,{"data-slot":"command",className:ie("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function iu({title:e="Command Palette",description:t="Search for a command to run...",children:n,...o}){return h.jsxs(sr,{...o,children:[h.jsxs(ir,{className:"sr-only",children:[h.jsx(ar,{children:e}),h.jsx(lr,{children:t})]}),h.jsx(rr,{className:"overflow-hidden p-0",children:h.jsx(ru,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:n})})]})}function au({className:e,...t}){return h.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[h.jsx(Vi,{className:"size-4 shrink-0 opacity-50"}),h.jsx(Re.Input,{"data-slot":"command-input",className:ie("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function lu({className:e,...t}){return h.jsx(Re.List,{"data-slot":"command-list",className:ie("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function cu({...e}){return h.jsx(Re.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function zo({className:e,...t}){return h.jsx(Re.Group,{"data-slot":"command-group",className:ie("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function du({className:e,...t}){return h.jsx(Re.Separator,{"data-slot":"command-separator",className:ie("bg-border -mx-1 h-px",e),...t})}function Zt({className:e,...t}){return h.jsx(Re.Item,{"data-slot":"command-item",className:ie("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function uu({className:e,...t}){return h.jsx("span",{"data-slot":"command-shortcut",className:ie("text-muted-foreground ml-auto text-xs tracking-widest",e),...t})}function mu(){const[e,t]=f.useState(!1);return f.useEffect(()=>{const n=o=>{o.key==="k"&&(o.metaKey||o.ctrlKey)&&(o.preventDefault(),t(s=>!s))};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[]),h.jsxs(iu,{open:e,onOpenChange:t,children:[h.jsx(au,{placeholder:"Type a command or search..."}),h.jsxs(lu,{children:[h.jsx(cu,{children:"No results found."}),h.jsxs(zo,{heading:"Suggestions",children:[h.jsxs(Zt,{onSelect:()=>{t(!1),window.location.href="/dashboard"},children:[h.jsx(Bi,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Dashboard"})]}),h.jsxs(Zt,{onSelect:()=>{t(!1),window.location.href="/jobs"},children:[h.jsx(_i,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Jobs"})]})]}),h.jsx(du,{}),h.jsx(zo,{heading:"Settings",children:h.jsxs(Zt,{onSelect:()=>{t(!1),window.location.href="/settings"},children:[h.jsx(zi,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Settings"}),h.jsx(uu,{children:"S"})]})})]})]})}const fu={"job-assigned":e=>({title:" New Job Assigned!",body:`Job ${e.reference} has been assigned to you. Pickup at ${e.pickupTime}.`,icon:"/icon-truck.png",tag:`job-${e.jobId}`,requireInteraction:!0,actions:[{action:"view",title:"View Details"},{action:"dismiss",title:"Dismiss"}],data:{jobId:e.jobId,type:"job-assigned"}}),"job-started":e=>({title:" Job Started",body:`Driver ${e.driverName} has started your move. Track in real-time!`,icon:"/icon-box.png",tag:`job-${e.jobId}`,actions:[{action:"track",title:"Track Now"},{action:"call",title:"Call Driver"}],data:{jobId:e.jobId,type:"job-started"}}),"job-completed":e=>({title:" Move Completed!",body:`Your move is complete! Total: ${e.amount}. Please rate your experience.`,icon:"/icon-check.png",tag:`job-${e.jobId}`,requireInteraction:!0,actions:[{action:"rate",title:"Rate & Tip"},{action:"dismiss",title:"Later"}],data:{jobId:e.jobId,type:"job-completed"}}),"driver-approaching":e=>({title:" Driver Approaching",body:`${e.driverName} will arrive in ${e.eta} minutes!`,icon:"/icon-location.png",tag:`driver-${e.driverId}`,requireInteraction:!1,actions:[{action:"track",title:"Track"}],data:{jobId:e.jobId,driverId:e.driverId,type:"driver-approaching"}}),"driver-arrived":e=>({title:" Driver Has Arrived",body:`${e.driverName} is here! Vehicle: ${e.vehicle}`,icon:"/icon-arrived.png",tag:`driver-${e.driverId}`,requireInteraction:!0,data:{jobId:e.jobId,driverId:e.driverId,type:"driver-arrived"}}),"payment-received":e=>({title:" Payment Received",body:`You earned ${e.amount} for job ${e.reference}. ${e.breakdown}`,icon:"/icon-money.png",tag:`payment-${e.paymentId}`,data:{paymentId:e.paymentId,type:"payment-received"}}),"new-message":e=>({title:` ${e.senderName}`,body:e.message,icon:e.senderAvatar||"/icon-message.png",tag:`message-${e.conversationId}`,actions:[{action:"reply",title:"Reply"},{action:"view",title:"View"}],data:{conversationId:e.conversationId,type:"new-message"}}),"review-request":e=>({title:" How was your move?",body:`Please rate your experience with ${e.driverName}`,icon:"/icon-star.png",tag:`review-${e.jobId}`,requireInteraction:!0,actions:[{action:"rate",title:"Rate Now"},{action:"later",title:"Maybe Later"}],data:{jobId:e.jobId,type:"review-request"}}),"booking-confirmed":e=>({title:" Booking Confirmed!",body:`Your move is scheduled for ${e.date} at ${e.time}. Ref: ${e.reference}`,icon:"/icon-calendar.png",tag:`booking-${e.bookingId}`,requireInteraction:!1,actions:[{action:"view",title:"View Details"},{action:"calendar",title:"Add to Calendar"}],data:{bookingId:e.bookingId,type:"booking-confirmed"}})};class hu{permission="default";listeners=[];constructor(){this.init()}async init(){if(!("Notification"in window)){console.warn("[Notifications] Not supported in this browser");return}if(this.permission=Notification.permission,"serviceWorker"in navigator)try{const t=await navigator.serviceWorker.getRegistrations();for(const n of t)await n.unregister();t.length>0&&console.log("[Notifications]  Cleaned up old service workers")}catch{}console.log("[Notifications]  Ready - using Web Notification API")}async requestPermission(){if(!("Notification"in window))return console.warn("[Notifications] Not supported"),!1;if(this.permission==="granted")return!0;try{return this.permission=await Notification.requestPermission(),console.log("[Notifications] Permission:",this.permission),this.permission==="granted"}catch(t){return console.error("[Notifications] Permission request failed:",t),!1}}async show(t,n){if(this.permission!=="granted"&&!await this.requestPermission()){console.warn("[Notifications] Permission denied");return}const o=fu[t];if(!o){console.error("[Notifications] Unknown type:",t);return}const s=o(n);try{const i=new Notification(s.title,{body:s.body,icon:s.icon||"/logo.png",tag:s.tag,requireInteraction:s.requireInteraction||!1,data:s.data});i.onclick=()=>{this.handleNotificationClick(s.data),i.close()},s.requireInteraction||setTimeout(()=>{i.close()},1e4)}catch(i){console.error("[Notifications] Failed to show notification:",i)}this.notifyListeners(s),console.log("[Notifications] Shown:",t,n)}handleNotificationClick(t){switch(console.log("[Notifications] Clicked:",t),t.type){case"job-assigned":case"job-started":window.location.hash=`#/driver/job/${t.jobId}`;break;case"job-completed":case"review-request":window.location.hash=`#/feedback/${t.jobId}`;break;case"driver-approaching":case"driver-arrived":window.location.hash=`#/tracking/${t.jobId}`;break;case"new-message":window.location.hash="#/messaging";break;case"payment-received":window.location.hash="#/payments";break;case"booking-confirmed":window.location.hash="#/customer";break}window.focus&&window.focus()}async notifyJobAssigned(t,n,o){await this.show("job-assigned",{jobId:t,reference:n,pickupTime:o})}async notifyJobStarted(t,n){await this.show("job-started",{jobId:t,driverName:n})}async notifyJobCompleted(t,n){await this.show("job-completed",{jobId:t,amount:n})}async notifyDriverApproaching(t,n,o,s){await this.show("driver-approaching",{jobId:t,driverId:n,driverName:o,eta:s})}async notifyDriverArrived(t,n,o,s){await this.show("driver-arrived",{jobId:t,driverId:n,driverName:o,vehicle:s})}async notifyPaymentReceived(t,n,o,s){await this.show("payment-received",{paymentId:t,amount:n,reference:o,breakdown:s})}async notifyNewMessage(t,n,o,s){await this.show("new-message",{conversationId:t,senderName:n,message:o,senderAvatar:s})}async notifyReviewRequest(t,n){await this.show("review-request",{jobId:t,driverName:n})}async notifyBookingConfirmed(t,n,o,s){await this.show("booking-confirmed",{bookingId:t,reference:n,date:o,time:s})}async subscribeToPush(){return console.log("[Notifications] Push subscriptions require a service worker (not available in this environment)"),console.log("[Notifications] Using Web Notification API instead"),null}async unsubscribe(){return console.log("[Notifications] Push subscriptions not active"),!1}onNotification(t){return this.listeners.push(t),()=>{const n=this.listeners.indexOf(t);n>-1&&this.listeners.splice(n,1)}}notifyListeners(t){this.listeners.forEach(n=>n(t))}isSupported(){return"Notification"in window&&"serviceWorker"in navigator}hasPermission(){return this.permission==="granted"}getPermission(){return this.permission}async clearAll(){console.log("[Notifications] Clear all (notifications auto-clear on click/timeout)")}}const Qm=new hu;class pu{notifications=[];listeners=[];add(t,n,o,s){const i={id:`notif-${Date.now()}-${Math.random()}`,type:t,title:n,message:o,timestamp:new Date,read:!1,data:s};return this.notifications.unshift(i),this.notifications.length>50&&(this.notifications=this.notifications.slice(0,50)),this.notifyListeners(),i.id}getAll(){return[...this.notifications]}getUnreadCount(){return this.notifications.filter(t=>!t.read).length}markAsRead(t){const n=this.notifications.find(o=>o.id===t);n&&(n.read=!0,this.notifyListeners())}markAllAsRead(){this.notifications.forEach(t=>t.read=!0),this.notifyListeners()}delete(t){this.notifications=this.notifications.filter(n=>n.id!==t),this.notifyListeners()}clearAll(){this.notifications=[],this.notifyListeners()}subscribe(t){return this.listeners.push(t),t(this.notifications),()=>{const n=this.listeners.indexOf(t);n>-1&&this.listeners.splice(n,1)}}notifyListeners(){this.listeners.forEach(t=>t([...this.notifications]))}}const Xe=new pu;class gu{sendJobNotification(t,n){console.log(` Sending ${n} notification for job ${t.id}`);const o=this.createNotification(t,n);this.sendEmailNotification(t,o),this.sendSMSNotification(t,o),this.sendPushNotification(o),this.addInAppNotification(t.customerId,o),this.logNotification(t,o)}createNotification(t,n){const s=this.getNotificationTemplates(t)[n];return{id:`NOTIF-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:n,title:s.title,message:s.message,timestamp:new Date,read:!1,actionUrl:s.actionUrl,actionLabel:s.actionLabel,icon:s.icon,priority:s.priority}}getNotificationTemplates(t){const n=`/#/tracking/${t.id}`,o="/#/dashboard";return{driver_assigned:{title:" Driver Assigned!",message:`${t.driverName} has been assigned to your ${t.service}. They will contact you soon.`,icon:"",priority:"high",actionUrl:o,actionLabel:"View Details"},driver_started:{title:" Driver On The Way!",message:`${t.driverName} is on the way to collect your items from ${t.pickup.postcode}. ETA: 25 minutes.`,icon:"",priority:"urgent",actionUrl:n,actionLabel:"Track Live"},driver_arrived_pickup:{title:" Driver Arrived at Pickup",message:`${t.driverName} has arrived at ${t.pickup.address}. Please meet them to start loading.`,icon:"",priority:"urgent",actionUrl:n,actionLabel:"Track Live"},items_loaded:{title:" Items Loaded Successfully",message:`All items have been loaded. ${t.driverName} is now heading to ${t.delivery.postcode}.`,icon:"",priority:"high",actionUrl:n,actionLabel:"Track Live"},driver_on_route:{title:" On Route to Delivery",message:`Your items are on the way to ${t.delivery.address}. ETA: 35 minutes.`,icon:"",priority:"medium",actionUrl:n,actionLabel:"Track Live"},driver_arrived_delivery:{title:" Driver Arrived at Delivery Location",message:`${t.driverName} has arrived at ${t.delivery.address}. Unloading will begin shortly.`,icon:"",priority:"urgent",actionUrl:n,actionLabel:"Track Live"},job_completed:{title:" Job Completed!",message:`Your ${t.service} has been completed successfully. Thank you for choosing ShiftMyHome!`,icon:"",priority:"high",actionUrl:o,actionLabel:"Rate Experience"},payment_received:{title:" Payment Received",message:`Payment of ${t.customerPrice.toFixed(2)} has been processed successfully. Invoice sent to your email.`,icon:"",priority:"medium",actionUrl:o,actionLabel:"View Invoice"},tip_received:{title:" Tip Received",message:`Thank you for your generous tip! Your driver ${t.driverName} has been notified.`,icon:"",priority:"low",actionUrl:o,actionLabel:"View Details"}}}sendEmailNotification(t,n){const o={to:t.customerEmail,subject:n.title,body:this.getEmailBody(t,n)};console.log(" Email Notification:",o.subject),this.mockSendEmail(o)}getEmailBody(t,n){return`
<!DOCTYPE html>
<html>
<head>
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; }
    .container { max-width: 600px; margin: 0 auto; }
    .header { 
      background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%); 
      color: white; 
      padding: 30px; 
      text-align: center;
      border-radius: 10px 10px 0 0;
    }
    .icon { font-size: 48px; margin-bottom: 10px; }
    .content { background: #fff; padding: 30px; border: 1px solid #e5e7eb; }
    .message { font-size: 16px; margin: 20px 0; padding: 20px; background: #f3f4f6; border-radius: 8px; }
    .cta-button { 
      display: inline-block; 
      background: linear-gradient(135deg, #10b981 0%, #059669 100%); 
      color: white; 
      padding: 15px 30px; 
      text-decoration: none; 
      border-radius: 8px; 
      font-weight: bold; 
      margin: 20px 0;
      text-align: center;
    }
    .job-details { 
      background: #f9fafb; 
      border-left: 4px solid #3b82f6; 
      padding: 15px; 
      margin: 20px 0; 
      
    }
    .footer { text-align: center; padding: 20px; color: #6b7280; font-size: 12px; }
    .tracking-link { 
      display: block; 
      margin: 20px 0; 
      padding: 15px; 
      background: #dbeafe; 
      border-radius: 8px; 
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="icon">${n.icon}</div>
      <h1 style="margin: 0;">${n.title}</h1>
      <p style="margin: 10px 0 0 0; opacity: 0.9;">Job Reference: ${t.id}</p>
    </div>
    
    <div class="content">
      <p>Hi ${t.customerName},</p>
      
      <div class="message">
        ${n.message}
      </div>
      
      <div class="job-details">
        <h3 style="margin-top: 0; color: #1f2937;"> Job Details</h3>
        <p><strong>Service:</strong> ${t.service}</p>
        <p><strong>Reference:</strong> ${t.id}</p>
        <p><strong>From:</strong> ${t.pickup.address}, ${t.pickup.postcode}</p>
        <p><strong>To:</strong> ${t.delivery.address}, ${t.delivery.postcode}</p>
        ${t.driverName?`<p><strong>Driver:</strong> ${t.driverName} | ${t.driverPhone}</p>`:""}
      </div>
      
      ${n.type==="driver_started"||n.type==="driver_on_route"?`
        <div class="tracking-link">
          <h3 style="margin-top: 0; color: #1e40af;"> Track Your Driver Live</h3>
          <p style="margin: 10px 0;">Click below to see real-time location and ETA</p>
          <a href="${n.actionUrl}" class="cta-button">
             Track Live Now
          </a>
        </div>
      `:""}
      
      ${n.actionUrl?`
        <div style="text-align: center; margin: 30px 0;">
          <a href="${n.actionUrl}" class="cta-button">
            ${n.actionLabel||"View Details"}
          </a>
        </div>
      `:""}
      
      <p style="margin-top: 30px; color: #6b7280; font-size: 14px;">
        ${this.getContextualMessage(n.type,t)}
      </p>
      
      <hr style="border: none; border-top: 1px solid #e5e7eb; margin: 30px 0;">
      
      <p>Questions? We're here to help:</p>
      <p>
         <strong>Phone:</strong> +44 1234 567 890<br>
         <strong>Email:</strong> support@shiftmyhome.com<br>
         <strong>Live Chat:</strong> Available on our website
      </p>
    </div>
    
    <div class="footer">
      <p><strong>ShiftMyHome</strong> - Making moves easier</p>
      <p>This is an automated notification. Please do not reply to this email.</p>
      <p style="margin-top: 10px;">
        <a href="#" style="color: #6b7280; margin: 0 10px;">Unsubscribe</a> | 
        <a href="#" style="color: #6b7280; margin: 0 10px;">Preferences</a> | 
        <a href="#" style="color: #6b7280; margin: 0 10px;">Help</a>
      </p>
    </div>
  </div>
</body>
</html>
    `.trim()}getContextualMessage(t,n){return{driver_assigned:"Your driver will contact you within the next 2 hours to confirm pickup details.",driver_started:`Please ensure someone is available at ${n.pickup.address} to meet the driver.`,driver_arrived_pickup:"Your driver is waiting. Please proceed to the pickup location immediately.",items_loaded:"All items have been secured and are being transported safely.",driver_on_route:"Your items are being handled with care during transport.",driver_arrived_delivery:"Please ensure someone is available to receive the delivery.",job_completed:"We'd love to hear your feedback! Please rate your experience and leave a tip if you were satisfied.",payment_received:`Your invoice has been sent to ${n.customerEmail}. Thank you for your payment.`,tip_received:"Your driver has been notified and is very grateful for your generosity!"}[t]||"Thank you for choosing ShiftMyHome!"}sendSMSNotification(t,n){const o={to:t.customerPhone,message:this.getSMSText(t,n)};console.log(" SMS Notification:",o.message),this.mockSendSMS(o)}getSMSText(t,n){const s=n.actionUrl?`https://shiftmyhome.com${n.actionUrl}`:"";return{driver_assigned:`ShiftMyHome: ${t.driverName} assigned to your ${t.service} (${t.id}). They'll contact you soon.`,driver_started:`ShiftMyHome: ${t.driverName} is on the way to ${t.pickup.postcode}! Track live: ${s}`,driver_arrived_pickup:`ShiftMyHome: ${t.driverName} has arrived at ${t.pickup.address}. Please meet them now.`,items_loaded:`ShiftMyHome: Items loaded! Now heading to ${t.delivery.postcode}. Track: ${s}`,driver_on_route:`ShiftMyHome: Your items are on route to ${t.delivery.postcode}. ETA: 35 mins. Track: ${s}`,driver_arrived_delivery:`ShiftMyHome: ${t.driverName} arrived at delivery location. Please be ready to receive.`,job_completed:`ShiftMyHome: Job completed! Rate your experience: ${s}`,payment_received:`ShiftMyHome: Payment of ${t.customerPrice.toFixed(2)} received. Invoice sent to your email.`,tip_received:`ShiftMyHome: Thank you for your tip! ${t.driverName} has been notified.`}[n.type]||`ShiftMyHome: ${n.message}`}sendPushNotification(t){console.log(" Push Notification:",t.title),"Notification"in window&&(Notification.permission==="granted"?this.showBrowserNotification(t):Notification.permission!=="denied"&&Notification.requestPermission().then(n=>{n==="granted"&&this.showBrowserNotification(t)}))}showBrowserNotification(t){const n=new Notification(t.title,{body:t.message,icon:"/favicon.ico",badge:"/favicon.ico",tag:t.id,requireInteraction:t.priority==="urgent",vibrate:t.priority==="urgent"?[200,100,200]:void 0});n.onclick=()=>{window.focus(),t.actionUrl&&(window.location.href=t.actionUrl),n.close()}}addInAppNotification(t,n){Xe.add(n.type,n.title,n.message,{jobId:t,originalNotifId:n.id,actionUrl:n.actionUrl}),console.log(` In-App Notification delegated for user ${t}`)}getInAppNotifications(t){return Xe.getAll().map(o=>({id:o.id,type:o.type,title:o.title,message:o.message,timestamp:o.timestamp,read:o.read,actionUrl:o.data?.actionUrl,priority:"medium"}))}markAsRead(t,n){Xe.markAsRead(n)}markAllAsRead(t){Xe.markAllAsRead()}getUnreadCount(t){return Xe.getUnreadCount()}mockSendEmail(t){console.log(" Email sent successfully!"),console.log(`   To: ${t.to}`),console.log(`   Subject: ${t.subject}`)}mockSendSMS(t){console.log(" SMS sent successfully!"),console.log(`   To: ${t.to}`),console.log(`   Message: ${t.message}`)}logNotification(t,n){console.log(" Notification Log:",{jobId:t.id,customerId:t.customerId,type:n.type,priority:n.priority,timestamp:n.timestamp})}}const Jo=new gu,yu="xszrrlryxigcrkaezdgd",en="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhzenJybHJ5eGlnY3JrYWV6ZGdkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzNTAyODMsImV4cCI6MjA4MTkyNjI4M30.rankfHgniM0YQIr5-fE-K-OQpVExpUFQYZWVrXBSq3w",tn=`https://${yu}.supabase.co/functions/v1/make-server-94f26792`;class vu{jobs=new Map;stops=new Map;jobInterests=new Map;callbackRequests=[];listeners=new Map;nextReferenceNumber=5;version="1.1.0";isSyncing=!1;failureCount=0;constructor(){console.log("JobStatusManager initialized v1.1.0 (Persistent)"),this.initializeSampleJobs(),this.callbackRequests=[{id:"cb1",name:"John Visitor",phone:"07700 900123",status:"pending",date:new Date().toISOString(),notes:"Interested in house move"},{id:"cb2",name:"Alice Estate",phone:"07700 900456",status:"called",date:new Date(Date.now()-864e5).toISOString(),notes:"Left voicemail"}],this.syncFromBackend(),setInterval(()=>this.syncFromBackend(),15e3)}async syncFromBackend(){if(!this.isSyncing){this.isSyncing=!0;try{const t=await fetch(`${tn}/jobs`,{headers:{Authorization:`Bearer ${en}`}});if(t.ok){this.failureCount=0;const n=await t.json();Array.isArray(n)&&n.length>0&&(n.forEach(o=>{this.jobs.set(o.id,o),o.interestedDriverIds&&Array.isArray(o.interestedDriverIds)&&this.jobInterests.set(o.id,new Set(o.interestedDriverIds)),o.stops&&o.stops.forEach(s=>this.stops.set(s.id,s))}),this.emit("job_created",{}))}else throw new Error(`HTTP ${t.status} ${t.statusText}`)}catch(t){this.failureCount++,this.failureCount<=3&&(console.warn("Background sync failed (backend unavailable):",t),this.failureCount===3&&console.warn("Suppressing further background sync errors until connection is restored."))}finally{this.isSyncing=!1}}}async saveJobToBackend(t){try{const n=this.jobInterests.get(t.id);n&&(t.interestedDriverIds=Array.from(n)),fetch(`${tn}/jobs`,{method:"POST",headers:{Authorization:`Bearer ${en}`,"Content-Type":"application/json"},body:JSON.stringify(t)}).catch(o=>console.warn("Failed to save job to backend:",o))}catch(n){console.error("Error preparing job for save:",n)}}requestCallback(t,n,o){const s={id:Math.random().toString(36).substr(2,9),name:t,phone:n,email:o,status:"pending",date:new Date().toISOString()};return this.callbackRequests.unshift(s),this.emit("leads_updated",this.callbackRequests),!0}getCallbackRequests(){return this.callbackRequests}getLateJobs(){const t=new Date,n=[],o=15;return this.jobs.forEach(s=>{if(!["in-progress","completed","cancelled","failed","draft","pending"].includes(s.status))try{const i=`${s.date}T${s.time}:00`,r=new Date(i),c=t.getTime()-r.getTime(),d=Math.floor(c/6e4);d>o&&n.push({job:s,minutesLate:d})}catch{}}),n.sort((s,i)=>i.minutesLate-s.minutesLate)}async markJobAsAlerted(t){const n=this.jobs.get(t);n&&!n.smsAlertSent&&(n.smsAlertSent=!0,this.jobs.set(t,n),await this.saveJobToBackend(n))}async sendSmsAlert(t,n){try{return(await(await fetch(`${tn}/send-sms`,{method:"POST",headers:{Authorization:`Bearer ${en}`,"Content-Type":"application/json"},body:JSON.stringify({to:t,message:n})})).json()).success}catch(o){return console.error("Failed to send SMS:",o),!1}}updateCallbackStatus(t,n,o){const s=this.callbackRequests.find(i=>i.id===t);return s?(s.status=n,o&&(s.notes=o),this.emit("leads_updated",this.callbackRequests),!0):!1}generateStopsForJob(t,n,o){const s={id:`STOP-${t}-COL`,jobId:t,type:"collection",address:n,status:"pending",order:1},i={id:`STOP-${t}-DEL`,jobId:t,type:"dropoff",address:o,status:"pending",order:2};return this.stops.set(s.id,s),this.stops.set(i.id,i),[s,i]}initializeSampleJobs(){const t={address:"Leith Walk, Edinburgh",postcode:"EH6 8RG",city:"Edinburgh",details:"Ground floor"},n={address:"Morningside, Edinburgh",postcode:"EH10 4EP",city:"Edinburgh",details:"2nd floor, no lift"},o={id:"JOB001",reference:"SMH-000001",title:"Home Move - 2 Bedroom Flat",service:"Home Removal",description:"Standard move",customerName:"Sarah Johnson",customerPhone:"+44 7700 900123",pickup:t,delivery:n,stops:[],date:new Date().toISOString().split("T")[0],time:"08:00",distance:5.7,duration:"3 hours",totalVolume:15,vehicle:"Luton Van",crew:2,items:[],customerPrice:350,driverPrice:250,platformFee:100,status:"available",createdAt:new Date().toISOString(),customerId:"CUST001"};o.stops=this.generateStopsForJob(o.id,t,n),this.jobs.set(o.id,o);const s=new Date,i=new Date(s.getTime()-7200*1e3),r=String(i.getHours()).padStart(2,"0"),c=String(i.getMinutes()).padStart(2,"0"),d={id:"JOB-LATE-TEST",reference:"SMH-LATE",title:"TEST: Late Job Simulation",service:"Urgent Delivery",description:"This job simulates a driver being late.",customerName:"Test Customer",customerPhone:"+44 7700 900000",pickup:t,delivery:n,stops:[],date:s.toISOString().split("T")[0],time:`${r}:${c}`,distance:5.7,duration:"3 hours",totalVolume:15,vehicle:"Luton Van",crew:2,items:[],customerPrice:350,driverPrice:250,platformFee:100,status:"assigned",driverId:"1",driverName:"Mike Johnson",driverPhone:"+447123456789",createdAt:s.toISOString(),customerId:"CUST-TEST"};d.stops=this.generateStopsForJob(d.id,t,n),this.jobs.set(d.id,d)}getAllJobs(){return Array.from(this.jobs.values())}getJob(t){return this.jobs.get(t)}getAvailableJobs(){return Array.from(this.jobs.values()).filter(t=>t.status==="available")}getDriverJobs(t){return Array.from(this.jobs.values()).filter(n=>n.driverId===t&&["assigned","accepted","in-progress","completed"].includes(n.status))}getInterestedJobs(t){const n=[];return this.jobInterests.forEach((o,s)=>{o.has(t)&&n.push(s)}),n.map(o=>this.jobs.get(o)).filter(o=>o!==void 0)}hasExpressedInterest(t,n){const o=this.jobInterests.get(t);return o?o.has(n):!1}expressInterest(t,n){const o=this.jobs.get(t);return o?(this.jobInterests.has(t)||this.jobInterests.set(t,new Set),this.jobInterests.get(t)?.add(n.id),console.log(`Driver ${n.id} expressed interest in job ${t}`),this.saveJobToBackend(o),this.emit("interest_updated",{jobId:t,driverId:n.id,interested:!0}),!0):!1}removeInterest(t,n){const o=this.jobInterests.get(t);if(o&&o.has(n)){o.delete(n);const s=this.jobs.get(t);return s&&this.saveJobToBackend(s),this.emit("interest_updated",{jobId:t,driverId:n,interested:!1}),!0}return!1}acceptJob(t,n){const o=this.jobs.get(t);return!o||o.status!=="available"?!1:(o.driverId=n,o.driverName="John Driver",o.driverUsername="johnd",this.updateJobStatus(t,"accepted"))}assignJob(t,n){const o=this.jobs.get(t);return o?(o.driverId=n.id,o.driverName=n.name,o.driverUsername=n.username,o.driverPhone=n.phone,this.updateJobStatus(t,"assigned")):!1}startJob(t){return this.updateJobStatus(t,"in-progress")}completeJob(t,n){const o=this.jobs.get(t);return o&&n&&(o.proofOfDelivery=n),this.updateJobStatus(t,"completed")}completeJobWithTracking(t,n,o,s){const i=this.jobs.get(t);return i?(s&&(i.issue={type:s.type,description:s.description,reportedBy:n,reportedAt:new Date().toISOString(),status:"open"}),this.updateJobStatus(t,"disputed")):!1}reportIssue(t,n){const o=this.jobs.get(t);return o?(o.issue={...n,reportedAt:new Date().toISOString(),status:"open"},this.saveJobToBackend(o),this.updateJobStatus(t,"disputed")):!1}submitReview(t,n,o){const s=this.jobs.get(t);return s?(s.rating=n,s.review=o,s.reviewDate=new Date().toISOString(),this.saveToStorage(),!0):!1}sendMessage(t,n){const o=this.jobs.get(t);if(o){o.messages||(o.messages=[]);const s={...n,id:Math.random().toString(36).substr(2,9),timestamp:new Date().toISOString(),read:!1};o.messages.push(s);const i=n.senderRole==="customer"?o.driverId||"ADMIN":o.customerId;return this.notifyUser(i,{title:`New message from ${n.senderName}`,message:n.text,type:"message",jobId:t}),this.saveToStorage(),this.notifyListeners("message_sent"),!0}return!1}getMessages(t){return this.jobs.get(t)?.messages||[]}getNotifications(t){return Jo.getInAppNotifications(t)}markNotificationAsRead(t,n){Jo.markAsRead(t,n)}createJob(t){const n=String(this.nextReferenceNumber).padStart(6,"0");this.nextReferenceNumber++;const o=`JOB${Date.now()}`,s={...t,id:o,reference:`SMH-${n}`,stops:[],createdAt:new Date().toISOString(),photos:[],interestedDriverIds:[]};return s.stops=this.generateStopsForJob(s.id,s.pickup,s.delivery),this.jobs.set(s.id,s),this.saveJobToBackend(s),this.emit("job_created",s),s}updateJobStatus(t,n){const o=this.jobs.get(t);if(!o)return!1;const s=o.status;return o.status=n,new Date().toISOString(),n==="assigned"&&(o.assignedAt=Date.now()),n==="accepted"&&(o.acceptedAt=Date.now()),n==="in-progress"&&(o.startedAt=Date.now()),n==="completed"&&(o.completedAt=Date.now()),this.jobs.set(t,o),this.saveJobToBackend(o),this.emit("job_status_changed",{job:o,oldStatus:s,newStatus:n}),!0}on(t,n){this.listeners.has(t)||this.listeners.set(t,[]),this.listeners.get(t)?.push(n)}off(t,n){const o=this.listeners.get(t);if(o){const s=o.indexOf(n);s!==-1&&o.splice(s,1)}}emit(t,n){const o=this.listeners.get(t);o&&o.forEach(s=>s(n))}}const bu=new vu,yr=f.createContext(void 0);function wu({children:e}){const[t,n]=f.useState([{id:"draft-1",name:"Journey 1",status:"planning",jobs:[],stops:[]}]),[o,s]=f.useState("draft-1"),i=b=>{n(S=>S.map(M=>M.id===o?b(M):M))},r=t.find(b=>b.id===o)||null,c=r?.stops||[],d=()=>{const b=`draft-${Date.now()}`,S={id:b,name:`Journey ${t.length+1}`,status:"planning",jobs:[],stops:[]};return n(M=>[...M,S]),s(b),b},l=b=>{t.find(S=>S.id===b)&&s(b)},u=b=>{if(n(S=>{const M=S.filter(R=>R.id!==b);if(b===o&&M.length>0)s(M[0].id);else if(M.length===0)return[{id:`draft-${Date.now()}`,name:"Journey 1",status:"planning",jobs:[],stops:[]}];return M}),b===o&&t.length>1){const S=t.find(M=>M.id!==b);S&&s(S.id)}},a=(b,S)=>{const M=S||o;if(!M)return;const R=bu.getJob(b);if(!R){console.error(`Job ${b} not found`);return}const N=v(b);if(N){N.id===M?alert("Job already in this journey"):alert(`Job is already in ${N.name||"another journey"}. Remove it first.`);return}const L=[...R.stops];n(D=>D.map(J=>{if(J.id===M){const G=[...J.stops,...L];return G.forEach((H,Y)=>{H.order=Y+1,H.journeyId=J.id}),{...J,jobs:[...J.jobs,b],stops:G}}return J})),console.log(` Added Job ${R.reference} to Journey ${M}`)},m=b=>{o&&i(S=>{const M=S.stops.filter(R=>R.jobId!==b);return M.forEach((R,N)=>R.order=N+1),{...S,jobs:S.jobs.filter(R=>R!==b),stops:M}})},p=(b,S)=>{o&&i(M=>{const R=Array.from(M.stops),[N]=R.splice(b,1);return R.splice(S,0,N),R.forEach((L,D)=>L.order=D+1),{...M,stops:R}})},g=b=>{o&&i(S=>({...S,stops:b.map((M,R)=>({...M,order:R+1}))}))},y=()=>{o&&i(b=>({...b,jobs:[],stops:[]}))},x=b=>t.some(S=>S.jobs.includes(b)),v=b=>t.find(S=>S.jobs.includes(b));return h.jsx(yr.Provider,{value:{draftJourneys:t,activeJourneyId:o,activeJourney:r,createJourneyDraft:d,switchJourney:l,deleteJourneyDraft:u,journeyStops:c,addJobToJourney:a,removeJobFromJourney:m,reorderStops:p,setJourneyStops:g,clearJourney:y,isJobInJourney:x,getJourneyForJob:v},children:e})}function Zm(){const e=f.useContext(yr);if(e===void 0)throw new Error("useJourney must be used within a JourneyProvider");return e}class xu{installPromptEvent=null;installStateListeners=[];constructor(){this.init()}init(){typeof window<"u"&&(window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.installPromptEvent=t,this.notifyListeners()}),window.addEventListener("appinstalled",()=>{this.installPromptEvent=null,this.notifyListeners(),console.log(" PWA installed successfully")}))}canInstall(){return this.installPromptEvent!==null}isInstalled(){return typeof window>"u"?!1:window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}isStandalone(){return typeof window>"u"?!1:window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}getInstallState(){return{canInstall:this.canInstall(),isInstalled:this.isInstalled(),isStandalone:this.isStandalone(),installPromptEvent:this.installPromptEvent}}async showInstallPrompt(){if(!this.installPromptEvent)return"unavailable";try{await this.installPromptEvent.prompt();const{outcome:t}=await this.installPromptEvent.userChoice;return t==="accepted"?(console.log(" User accepted PWA install"),this.installPromptEvent=null):console.log(" User dismissed PWA install"),this.notifyListeners(),t}catch(t){return console.error(" Error showing install prompt:",t),"unavailable"}}onInstallStateChange(t){return this.installStateListeners.push(t),()=>{this.installStateListeners=this.installStateListeners.filter(n=>n!==t)}}notifyListeners(){const t=this.getInstallState();this.installStateListeners.forEach(n=>n(t))}}class ku{registration=null;updateAvailable=!1;updateListeners=[];async register(){return await this.unregister(),null}async unregister(){if(typeof navigator>"u"||!("serviceWorker"in navigator))return!1;try{const t=await navigator.serviceWorker.getRegistrations();for(const n of t)await n.unregister(),console.log(" Service Worker unregistered:",n.scope);return!0}catch(t){return console.error(" Service Worker unregister failed:",t),!1}}async update(){}async skipWaiting(){}isUpdateAvailable(){return!1}onUpdateAvailable(t){return()=>{}}notifyUpdateListeners(){}getRegistration(){return this.registration}}class Su{isOnline=typeof navigator<"u"?navigator.onLine:!0;offlineListeners=[];constructor(){this.init()}init(){typeof window<"u"&&(window.addEventListener("online",()=>{this.isOnline=!0,this.notifyListeners(),console.log(" Back online")}),window.addEventListener("offline",()=>{this.isOnline=!1,this.notifyListeners(),console.log(" Gone offline")}))}getOnlineStatus(){return this.isOnline}onStatusChange(t){return this.offlineListeners.push(t),()=>{this.offlineListeners=this.offlineListeners.filter(n=>n!==t)}}notifyListeners(){this.offlineListeners.forEach(t=>t(this.isOnline))}showOfflineNotification(){if(!this.isOnline&&"Notification"in window&&Notification.permission==="granted")try{new Notification("You are offline",{body:"Some features may be limited. We'll sync when you're back online.",icon:"/icons/icon-192x192.png",badge:"/icons/icon-72x72.png",tag:"offline-notification"})}catch{}}}const Tu=new xu,Pu=new ku,Cu=new Su;async function Du(){console.log(" Initializing PWA features..."),await Pu.unregister();const e=Tu.getInstallState();console.log(" PWA Install State:",e),console.log(Cu.getOnlineStatus()?" Online":" Offline")}class Eu{errors=[];maxErrors=100;logError(t,n="medium",o){const s={id:this.generateId(),timestamp:Date.now(),error:t,severity:n,context:o,userAgent:navigator.userAgent,url:window.location.href,userId:this.getUserId()};this.errors.push(s),this.errors.length>this.maxErrors&&this.errors.shift(),this.sendToBackend(s),this.persistErrors()}getErrors(t){let n=[...this.errors];return t?.severity&&(n=n.filter(o=>o.severity===t.severity)),t?.startTime&&(n=n.filter(o=>o.timestamp>=t.startTime)),t?.endTime&&(n=n.filter(o=>o.timestamp<=t.endTime)),n}clearErrors(){this.errors=[],localStorage.removeItem("error-logs")}exportErrors(){return JSON.stringify(this.errors,null,2)}generateId(){return`err-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}getUserId(){return localStorage.getItem("userId")||void 0}sendToBackend(t){}persistErrors(){try{localStorage.setItem("error-logs",JSON.stringify(this.errors.slice(-20)))}catch(t){console.warn("Failed to persist errors:",t)}}}class Au{metrics=[];maxMetrics=500;recordMetric(t,n,o){const s={id:this.generateId(),timestamp:Date.now(),metric:t,value:n,url:window.location.href,context:o};this.metrics.push(s),this.metrics.length>this.maxMetrics&&this.metrics.shift()}getCoreWebVitals(){const t={},n=performance.getEntriesByName("first-contentful-paint")[0];n&&(t.FCP=n.startTime);const o=performance.getEntriesByType("largest-contentful-paint");o.length>0&&(t.LCP=o[o.length-1].startTime);const s=performance.getEntriesByType("navigation")[0];return s&&(t.TTFB=s.responseStart-s.requestStart),t}getPerformanceTimeline(){return[...this.metrics]}getAverageMetric(t){const n=this.metrics.filter(s=>s.metric===t);return n.length===0?0:n.reduce((s,i)=>s+i.value,0)/n.length}measureRender(t,n){const o=performance.now();n();const s=performance.now()-o;this.recordMetric(`render-${t}`,s)}async measureApiCall(t,n){const o=performance.now();try{const s=await n(),i=performance.now()-o;return this.recordMetric(`api-${t}`,i,{success:!0}),s}catch(s){const i=performance.now()-o;throw this.recordMetric(`api-${t}`,i,{success:!1}),s}}generateId(){return`perf-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}}class Iu{events=[];sessionId;maxEvents=1e3;constructor(){this.sessionId=this.getOrCreateSessionId(),this.initializeTracking()}trackEvent(t,n={}){const o={id:this.generateId(),timestamp:Date.now(),eventType:t,eventData:n,userId:this.getUserId(),sessionId:this.sessionId};this.events.push(o),this.events.length>this.maxEvents&&this.events.shift(),this.sendToAnalytics(o)}trackPageView(t,n){this.trackEvent("page_view",{page:t,url:window.location.href,referrer:document.referrer,...n})}trackButtonClick(t,n){this.trackEvent("button_click",{button:t,location:n})}trackFormSubmission(t,n){this.trackEvent("form_submission",{form:t,success:n})}trackSearch(t,n){this.trackEvent("search",{query:t,resultsCount:n})}trackError(t,n){this.trackEvent("error",{type:t,message:n})}getUserJourney(t){return t?this.events.filter(n=>n.userId===t):this.events.filter(n=>n.sessionId===this.sessionId)}getEventStats(){const t={};return this.events.forEach(n=>{t[n.eventType]=(t[n.eventType]||0)+1}),t}initializeTracking(){document.addEventListener("visibilitychange",()=>{this.trackEvent("visibility_change",{hidden:document.hidden})}),window.addEventListener("beforeunload",()=>{this.trackEvent("page_unload",{timeOnPage:Date.now()-parseInt(sessionStorage.getItem("page-load-time")||"0")})}),sessionStorage.setItem("page-load-time",Date.now().toString())}getOrCreateSessionId(){let t=sessionStorage.getItem("session-id");return t||(t=`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("session-id",t)),t}getUserId(){return localStorage.getItem("userId")||void 0}generateId(){return`event-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}sendToAnalytics(t){}}class Mu{originalConsole;constructor(){this.originalConsole={log:console.log,warn:console.warn,error:console.error}}start(){console.error=(...t)=>{this.originalConsole.error(...t),At.logError(new Error(t.join(" ")),"medium",{source:"console.error"})},console.warn=(...t)=>{this.originalConsole.warn(...t),At.logError(new Error(t.join(" ")),"low",{source:"console.warn"})}}stop(){console.log=this.originalConsole.log,console.warn=this.originalConsole.warn,console.error=this.originalConsole.error}}const At=new Eu,Fo=new Au,Nu=new Iu,Ru=new Mu;function ju(){if(console.log(" Initializing monitoring features..."),Ru.start(),Nu.trackPageView("home"),"PerformanceObserver"in window)try{new PerformanceObserver(t=>{t.getEntries().forEach(n=>{n.duration>50&&Fo.recordMetric("long-task",n.duration)})}).observe({entryTypes:["longtask"]})}catch{console.warn("PerformanceObserver not fully supported")}window.addEventListener("load",()=>{setTimeout(()=>{const e=Fo.getCoreWebVitals();console.log(" Core Web Vitals:",e)},0)}),console.log(" Monitoring initialized")}window.addEventListener("error",e=>{At.logError(e.error||new Error(e.message),"high",{filename:e.filename,lineno:e.lineno,colno:e.colno})});window.addEventListener("unhandledrejection",e=>{At.logError(e.reason instanceof Error?e.reason:new Error(String(e.reason)),"critical",{type:"unhandled_rejection"})});class Lu{defaultMeta={title:"ShiftMyHome - Professional Moving & Logistics Services",description:"Professional moving and logistics services with live tracking, instant quotes, and verified drivers. House removals, furniture delivery, man with van services across the UK.",keywords:"moving services, house removals, man and van, furniture delivery, logistics, live tracking",ogImage:"https://shiftmyhome.com/og-image.png",ogType:"website",canonicalUrl:"https://shiftmyhome.com/"};updatePageMeta(t){const n={...this.defaultMeta,...t};document.title=n.title,this.updateMetaTag("description",n.description),n.keywords&&this.updateMetaTag("keywords",n.keywords);const o=[n.noindex?"noindex":"index",n.nofollow?"nofollow":"follow"].join(", ");this.updateMetaTag("robots",o),this.updateMetaTag("og:title",n.title,"property"),this.updateMetaTag("og:description",n.description,"property"),n.ogImage&&this.updateMetaTag("og:image",n.ogImage,"property"),n.ogType&&this.updateMetaTag("og:type",n.ogType,"property"),this.updateMetaTag("og:url",n.canonicalUrl||window.location.href,"property"),this.updateMetaTag("twitter:card","summary_large_image"),this.updateMetaTag("twitter:title",n.title),this.updateMetaTag("twitter:description",n.description),n.ogImage&&this.updateMetaTag("twitter:image",n.ogImage),n.canonicalUrl&&this.updateCanonicalUrl(n.canonicalUrl)}updateMetaTag(t,n,o="name"){let s=document.querySelector(`meta[${o}="${t}"]`);s||(s=document.createElement("meta"),s.setAttribute(o,t),document.head.appendChild(s)),s.setAttribute("content",n)}updateCanonicalUrl(t){let n=document.querySelector('link[rel="canonical"]');n||(n=document.createElement("link"),n.rel="canonical",document.head.appendChild(n)),n.href=t}addStructuredData(t){const n=document.createElement("script");n.type="application/ld+json",n.text=JSON.stringify(t),n.id=`structured-data-${Date.now()}`,document.head.appendChild(n)}generateBreadcrumbSchema(t){return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:t.map((n,o)=>({"@type":"ListItem",position:o+1,name:n.name,item:n.url}))}}generateServiceSchema(t){return{"@context":"https://schema.org","@type":"Service",name:t.name,description:t.description,provider:{"@type":"Organization",name:t.provider},areaServed:t.areaServed||"United Kingdom"}}generateFAQSchema(t){return{"@context":"https://schema.org","@type":"FAQPage",mainEntity:t.map(n=>({"@type":"Question",name:n.question,acceptedAnswer:{"@type":"Answer",text:n.answer}}))}}generateReviewSchema(t){return{"@context":"https://schema.org","@type":"LocalBusiness",name:"ShiftMyHome",aggregateRating:{"@type":"AggregateRating",ratingValue:t.ratingValue,reviewCount:t.reviewCount,bestRating:t.bestRating||5,worstRating:t.worstRating||1}}}preloadResource(t,n){const o=document.createElement("link");o.rel="preload",o.href=t,o.as=n,n==="font"&&(o.crossOrigin="anonymous"),document.head.appendChild(o)}prefetchPage(t){const n=document.createElement("link");n.rel="prefetch",n.href=t,document.head.appendChild(n)}preconnectDomain(t){const n=document.createElement("link");n.rel="preconnect",n.href=t,document.head.appendChild(n)}}class $u{pages=[];addPage(t,n){this.pages.push({url:t,...n})}generateXML(){return`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
${this.pages.map(n=>{let o=`  <url>
    <loc>${n.url}</loc>
`;return n.lastmod&&(o+=`    <lastmod>${n.lastmod}</lastmod>
`),n.changefreq&&(o+=`    <changefreq>${n.changefreq}</changefreq>
`),n.priority!==void 0&&(o+=`    <priority>${n.priority}</priority>
`),o+="  </url>",o}).join(`
`)}
</urlset>`}initializeDefaults(t="https://shiftmyhome.com"){this.addPage(t,{changefreq:"daily",priority:1}),this.addPage(`${t}/contact`,{changefreq:"monthly",priority:.7}),this.addPage(`${t}/faq`,{changefreq:"monthly",priority:.6}),this.addPage(`${t}/blog`,{changefreq:"weekly",priority:.6})}}const nn=new Lu,Ou=new $u;function Vu(){console.log(" Initializing SEO features..."),Ou.initializeDefaults(),nn.preconnectDomain("https://fonts.googleapis.com"),nn.preconnectDomain("https://fonts.gstatic.com"),nn.preconnectDomain("https://maps.googleapis.com"),console.log(" SEO initialized")}function Bu(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),o=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`INV-${t}${n}-${o}`}function _u(e,t){const n=Bu(),o=new Date,s=new Date(o);s.setDate(s.getDate()+14);const i=[{description:`Moving Service - ${e.serviceType||"Standard Move"}`,quantity:1,unitPrice:e.totalPrice||0,total:e.totalPrice||0,category:"service"}];e.extras&&Array.isArray(e.extras)&&e.extras.forEach(a=>{i.push({description:a.name||a.description,quantity:1,unitPrice:a.price,total:a.price,category:"extra"})});const r=i.reduce((a,m)=>a+m.total,0),c=20,d=r*(c/100),l=r+d,u={id:`inv-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,invoiceNumber:n,jobReference:e.reference||e.id,issueDate:o,dueDate:s,status:"sent",customer:{id:t.id,name:t.name||t.fullName,email:t.email,phone:t.phone,address:e.pickupAddress||t.address||""},company:{name:"ShiftMyHome Ltd",address:"123 Business Street, London, UK",phone:"+44 20 1234 5678",email:"info@shiftmyhome.com",vatNumber:"GB123456789",registrationNumber:"12345678"},items:i,subtotal:r,vatRate:c,vatAmount:d,total:l,currency:"GBP",notes:"Thank you for choosing ShiftMyHome. Payment due within 14 days."};return jt(u),u}function ot(){const e=localStorage.getItem("all_invoices");return e?JSON.parse(e):[]}function jt(e){const t=ot(),n=t.findIndex(o=>o.id===e.id);n>=0?t[n]=e:t.push(e),localStorage.setItem("all_invoices",JSON.stringify(t))}function zu(e){const t=e.length,n=e.reduce((u,a)=>u+a.total,0),o=e.filter(u=>u.status==="paid").length,s=e.filter(u=>u.status==="sent"||u.status==="overdue").length,i=e.filter(u=>u.status==="overdue").length,r=e.filter(u=>u.status==="draft").length,c=t>0?n/t:0,d=e.filter(u=>u.status==="paid").reduce((u,a)=>u+a.total,0),l=e.filter(u=>u.status!=="paid"&&u.status!=="cancelled").reduce((u,a)=>u+a.total,0);return{totalInvoices:t,totalRevenue:n,paidInvoices:o,unpaidInvoices:s,overdueInvoices:i,draftInvoices:r,averageInvoiceValue:c,totalPaid:d,totalUnpaid:l}}function ef(e){const n=ot().find(o=>o.id===e);n&&(n.status="paid",n.paidDate=new Date,n.updatedAt=new Date,jt(n))}function tf(e){const t=Ju(e),n=new Blob([t],{type:"text/html"}),o=URL.createObjectURL(n),s=document.createElement("a");s.href=o,s.download=`${e.invoiceNumber}.html`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(o)}function nf(e){return new Promise(t=>{setTimeout(()=>{console.log(`Invoice ${e.invoiceNumber} sent to ${e.customer.email}`),e.status==="draft"&&(e.status="sent",e.updatedAt=new Date,jt(e)),t(!0)},1e3)})}function Ju(e){return`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Invoice ${e.invoiceNumber}</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      color: #333;
    }
    .header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 40px;
    }
    .company-info h1 {
      margin: 0;
      color: #8b5cf6;
    }
    .invoice-details {
      text-align: right;
    }
    .invoice-number {
      font-size: 24px;
      font-weight: bold;
      color: #8b5cf6;
    }
    .addresses {
      display: flex;
      justify-content: space-between;
      margin-bottom: 40px;
    }
    .address-block h3 {
      margin: 0 0 10px 0;
      color: #555;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 30px;
    }
    th {
      background: #f3f4f6;
      padding: 12px;
      text-align: left;
      border-bottom: 2px solid #ddd;
    }
    td {
      padding: 12px;
      border-bottom: 1px solid #eee;
    }
    .totals {
      margin-left: auto;
      width: 300px;
    }
    .totals tr td {
      padding: 8px;
    }
    .total-row {
      font-weight: bold;
      font-size: 18px;
      color: #8b5cf6;
    }
    .footer {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 2px solid #ddd;
      text-align: center;
      color: #666;
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="company-info">
      <h1>${e.company.name}</h1>
      <p>${e.company.address}</p>
      <p>Phone: ${e.company.phone}</p>
      <p>Email: ${e.company.email}</p>
      <p>VAT: ${e.company.vatNumber}</p>
    </div>
    <div class="invoice-details">
      <div class="invoice-number">${e.invoiceNumber}</div>
      <p>Issue Date: ${zn(new Date(e.issueDate),"dd/MM/yyyy")}</p>
      <p>Due Date: ${zn(new Date(e.dueDate),"dd/MM/yyyy")}</p>
      <p>Status: <strong>${e.status.toUpperCase()}</strong></p>
    </div>
  </div>

  <div class="addresses">
    <div class="address-block">
      <h3>Bill To:</h3>
      <p><strong>${e.customer.name}</strong></p>
      ${e.customer.companyName?`<p>${e.customer.companyName}</p>`:""}
      <p>${e.customer.address}</p>
      <p>${e.customer.email}</p>
      <p>${e.customer.phone}</p>
      ${e.customer.vatNumber?`<p>VAT: ${e.customer.vatNumber}</p>`:""}
    </div>
  </div>

  <table>
    <thead>
      <tr>
        <th>Description</th>
        <th>Quantity</th>
        <th>Unit Price</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      ${e.items.map(t=>`
        <tr>
          <td>${t.description}</td>
          <td>${t.quantity}</td>
          <td>${t.unitPrice.toFixed(2)}</td>
          <td>${t.total.toFixed(2)}</td>
        </tr>
      `).join("")}
    </tbody>
  </table>

  <table class="totals">
    <tr>
      <td>Subtotal:</td>
      <td style="text-align: right;">${e.subtotal.toFixed(2)}</td>
    </tr>
    <tr>
      <td>VAT (${e.vatRate}%):</td>
      <td style="text-align: right;">${e.vatAmount.toFixed(2)}</td>
    </tr>
    <tr class="total-row">
      <td>Total:</td>
      <td style="text-align: right;">${e.total.toFixed(2)}</td>
    </tr>
  </table>

  ${e.notes?`<p><strong>Notes:</strong> ${e.notes}</p>`:""}
  ${e.terms?`<p><strong>Terms:</strong> ${e.terms}</p>`:""}

  <div class="footer">
    <p>Thank you for your business!</p>
    <p>${e.company.name} - ${e.company.registrationNumber}</p>
  </div>
</body>
</html>
  `}const bt={electric:0,hybrid:.08,euro6_diesel:.15,small_van:.18,medium_van:.22,large_van:.28,luton_van:.35,motorcycle:.09};function Fu(e,t,n,o,s=!1,i=!1){let r;s?r=bt.electric:i?r=bt.hybrid:r=bt[n]||bt.medium_van;const c=o*r,d=r,u=s?o*.2:o/(s?0:i?12:10),a=o*.25,m=(c-a)/a*100,p=Math.ceil(c/21),g={jobId:e,jobReference:t,date:new Date,vehicleType:n,isElectric:s,isHybrid:i,distance:o,fuelConsumed:u,co2Emissions:c,co2PerKm:d,comparedToAverage:m,treesRequired:p,offsetPurchased:!1};return Wu(g),g}function Uu(e){const t=Pn().filter(y=>{const v=JSON.parse(localStorage.getItem("mockJobs")||"[]").find(b=>b.reference===y.jobReference);return v&&v.customerId===e}),n=vr().filter(y=>y.customerId===e),o=t.length,s=t.reduce((y,x)=>y+x.distance,0),i=t.reduce((y,x)=>y+x.co2Emissions,0),r=n.reduce((y,x)=>y+x.amount,0),c=i-r,d=t.filter(y=>y.isElectric||y.isHybrid).length,l=o>0?d/o*100:0,u=o>0?i/o:0,a=s>0?i/s:0,m=Math.ceil(c/21),p=s*.25,g=p>0?(i-p)/p*100:0;return{totalJobs:o,totalDistance:s,totalCO2:i,totalOffset:r,netCO2:c,ecoVehicleJobs:d,ecoVehiclePercentage:l,avgCO2PerJob:u,avgCO2PerKm:a,treesEquivalent:m,comparedToIndustryAvg:g}}function Hu(){const e=Pn(),t=vr(),n=e.length,o=e.reduce((g,y)=>g+y.distance,0),s=e.reduce((g,y)=>g+y.co2Emissions,0),i=t.reduce((g,y)=>g+y.amount,0),r=s-i,c=e.filter(g=>g.isElectric||g.isHybrid).length,d=n>0?c/n*100:0,l=n>0?s/n:0,u=o>0?s/o:0,a=Math.ceil(r/21),m=o*.25,p=m>0?(s-m)/m*100:0;return{totalJobs:n,totalDistance:o,totalCO2:s,totalOffset:i,netCO2:r,ecoVehicleJobs:c,ecoVehiclePercentage:d,avgCO2PerJob:l,avgCO2PerKm:u,treesEquivalent:a,comparedToIndustryAvg:p}}function Wu(e){const t=Pn(),n=t.findIndex(o=>o.jobId===e.jobId);n>=0?t[n]=e:t.push(e),localStorage.setItem("carbon_footprints",JSON.stringify(t))}function Pn(){const e=localStorage.getItem("carbon_footprints");return e?JSON.parse(e):[]}function vr(){const e=localStorage.getItem("carbon_offsets");return e?JSON.parse(e):[]}async function hn(e,t){await new Promise(s=>setTimeout(s,500));const n=["clear","cloudy","rain","heavy_rain","snow","storm","fog"],o=n[Math.floor(Math.random()*n.length)];return{location:e,temperature:15+Math.random()*15,feelsLike:15+Math.random()*15,condition:o,description:qu(o),humidity:40+Math.random()*40,windSpeed:5+Math.random()*25,visibility:5+Math.random()*15,precipitation:o.includes("rain")?Math.random()*20:0,uvIndex:Math.floor(Math.random()*11),timestamp:t||new Date}}function qu(e){return{clear:"Clear skies",cloudy:"Partly cloudy",rain:"Light rain",heavy_rain:"Heavy rain",snow:"Snowing",storm:"Thunderstorm",fog:"Foggy conditions"}[e]}async function Uo(e,t){const n=await hn(e,t),o=[];return(n.condition==="heavy_rain"||n.condition==="storm")&&o.push({id:`alert-${Date.now()}`,type:"warning",severity:"high",condition:"Heavy Rain",description:"Heavy rainfall expected. Road conditions may be hazardous.",startTime:t,endTime:new Date(t.getTime()+360*60*1e3),affectedAreas:[e],recommendations:["Drive with extra caution","Allow extra time for travel","Ensure all items are waterproof covered","Consider rescheduling if possible"]}),n.condition==="snow"&&o.push({id:`alert-${Date.now()}-2`,type:"warning",severity:"extreme",condition:"Snow",description:"Snowfall expected. Roads may be icy and dangerous.",startTime:t,endTime:new Date(t.getTime()+720*60*1e3),affectedAreas:[e],recommendations:["Strongly consider rescheduling","Ensure vehicle has winter tires","Carry emergency supplies","Monitor weather updates"]}),n.windSpeed>50&&o.push({id:`alert-${Date.now()}-3`,type:"advisory",severity:"moderate",condition:"High Winds",description:"Strong winds expected. Driving large vehicles may be difficult.",startTime:t,endTime:new Date(t.getTime()+14400*1e3),affectedAreas:[e],recommendations:["Secure all items properly","Drive carefully, especially with large vans","Avoid exposed routes if possible"]}),o}async function Gu(e,t,n,o){const[s,i]=await Promise.all([hn(n,t),hn(o,t)]),[r,c]=await Promise.all([Uo(n,t),Uo(o,t)]),d=s.condition==="clear"?i:s,l=[...r,...c],u=Yu(d,l),a=u!=="extreme",m=Ku(d,l,u),p=u==="high"||u==="extreme"?Xu(t):void 0,g=Qu(d,u);return{jobId:e,scheduledDate:t,pickupLocation:n,deliveryLocation:o,weather:d,alerts:l,riskLevel:u,canProceed:a,recommendations:m,suggestedReschedule:p,pricingAdjustment:g}}function Yu(e,t){return t.some(n=>n.severity==="extreme")||e.condition==="storm"||e.condition==="snow"?"extreme":e.condition==="heavy_rain"||e.windSpeed>60||e.visibility<2?"high":e.condition==="rain"||e.windSpeed>40||e.visibility<5?"medium":"low"}function Ku(e,t,n){const o=[];return n==="extreme"&&o.push(" STRONGLY RECOMMEND RESCHEDULING - Dangerous conditions expected"),e.condition.includes("rain")&&(o.push(" Ensure all items are covered with waterproof materials"),o.push(" Pack electronics and sensitive items in plastic")),e.condition==="snow"&&(o.push(" Vehicle must have winter tires"),o.push(" Allow double the normal travel time")),e.windSpeed>40&&(o.push(" Secure all items extra carefully"),o.push(" Drive at reduced speed, especially with large vehicles")),e.visibility<5&&(o.push(" Use fog lights and drive with extreme caution"),o.push(" Allow extra time for navigation")),t.forEach(s=>{o.push(...s.recommendations.map(i=>` ${i}`))}),o}function Xu(e){const t=[];for(let n=1;n<=3;n++){const o=new Date(e);o.setDate(o.getDate()+n),t.push(o)}return t}function Qu(e,t){let n=0;return n+={low:0,medium:5,high:10,extreme:20}[t],e.condition==="snow"&&(n+=15),e.condition==="heavy_rain"&&(n+=10),e.windSpeed>60&&(n+=5),n}function Ho(e,t,n){const o=JSON.parse(localStorage.getItem("notifications")||"[]");o.push({id:`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,userId:e,type:"weather_alert",title:`Weather Alert for Job ${t}`,message:`${n.weather.condition} expected on ${n.scheduledDate.toLocaleDateString()}. Risk level: ${n.riskLevel}`,timestamp:new Date,read:!1,data:{jobReference:t,impact:n}}),localStorage.setItem("notifications",JSON.stringify(o))}async function Zu(){const e=JSON.parse(localStorage.getItem("mockJobs")||"[]"),t=new Date,n=new Date;n.setDate(n.getDate()+7);for(const o of e){const s=new Date(o.date);if(s>=t&&s<=n&&o.status!=="completed"&&o.status!=="cancelled")try{const i=await Gu(o.reference,s,o.pickupAddress,o.deliveryAddress);(i.riskLevel==="high"||i.riskLevel==="extreme")&&(Ho(o.customerId,o.reference,i),o.driverId&&Ho(o.driverId,o.reference,i))}catch(i){console.error("Error checking weather for job:",o.reference,i)}}}function br(e,t="customer"){const n=localStorage.getItem(`verification_${e}`);if(n)return JSON.parse(n);const o={userId:e,userType:t,emailVerified:!1,phoneVerified:!1,idVerified:!1,addressVerified:!1,trustScore:0,trustLevel:"unverified",verificationAttempts:[],createdAt:new Date,updatedAt:new Date};return wr(o),o}function wr(e){e.updatedAt=new Date,e.trustScore=em(e),e.trustLevel=tm(e.trustScore),localStorage.setItem(`verification_${e.userId}`,JSON.stringify(e))}function em(e){let t=0;e.emailVerified&&(t+=20),e.phoneVerified&&(t+=25),e.idVerified&&(t+=35),e.addressVerified&&(t+=20);const n=e.verificationAttempts.filter(o=>!o.success).length;return t-=Math.min(n*5,20),Math.max(0,Math.min(100,t))}function tm(e){return e>=90?"trusted":e>=70?"verified":e>=40?"standard":e>=20?"basic":"unverified"}async function nm(e,t){await new Promise(y=>setTimeout(y,1e3));const n=[...e],o=n.find(y=>y.type==="pickup")||n[0],s=n.filter(y=>y!==o),i=[o];let r=o;for(;s.length>0;){const y=s.reduce((x,v)=>{const b=wt(r.lat,r.lng,v.lat,v.lng),S=wt(r.lat,r.lng,x.lat,x.lng);return b<S?v:x});i.push(y),r=y,s.splice(s.indexOf(y),1)}let c=0,d=0;for(let y=0;y<i.length-1;y++){const x=wt(i[y].lat,i[y].lng,i[y+1].lat,i[y+1].lng);c+=x,d+=Wo(x)}const l=om(t,c),u=new Date,a=new Date(u.getTime()+d*60*1e3);let m=new Date(u);i.forEach((y,x)=>{if(y.arrivalTime=new Date(m),y.duration=x<i.length-1?15:0,y.departureTime=new Date(m.getTime()+y.duration*60*1e3),x<i.length-1){const v=wt(y.lat,y.lng,i[x+1].lat,i[x+1].lng);m=new Date(m.getTime()+(Wo(v)+y.duration)*60*1e3)}});const p=c*1.2,g={distance:p-c,time:(p-c)/60*60,fuel:(p-c)/l.fuelEfficiency,cost:(p-c)/l.fuelEfficiency*l.fuelPrice};return{id:`route-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,driverId:"",driverName:"",vehicleType:t,date:u,stops:i,totalDistance:c,totalDuration:d,estimatedFuel:l.estimatedFuel,fuelCost:l.totalCost,startTime:u,endTime:a,optimizationScore:85+Math.random()*10,savings:g,createdAt:new Date,updatedAt:new Date}}function wt(e,t,n,o){const i=xt(n-e),r=xt(o-t),c=Math.sin(i/2)*Math.sin(i/2)+Math.cos(xt(e))*Math.cos(xt(n))*Math.sin(r/2)*Math.sin(r/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}function xt(e){return e*(Math.PI/180)}function Wo(e){return e/50*60}function om(e,t){const o={small_van:12,medium_van:10,large_van:8,luton_van:7,motorcycle:25}[e]||10,s=1.5,i=t/o,r=i*s;return{vehicleType:e,fuelEfficiency:o,fuelPrice:s,distance:t,estimatedFuel:i,totalCost:r}}async function sm(e,t){const o=JSON.parse(localStorage.getItem("mockJobs")||"[]").filter(l=>{const u=new Date(l.date);return l.driverId===e&&l.status==="accepted"&&u.toDateString()===t.toDateString()});if(o.length===0)return null;const s=[];o.forEach(l=>{s.push({id:`pickup-${l.id}`,address:l.pickupAddress,lat:l.pickupLat||51.5074+(Math.random()-.5)*.1,lng:l.pickupLng||-.1278+(Math.random()-.5)*.1,type:"pickup",jobReference:l.reference}),s.push({id:`delivery-${l.id}`,address:l.deliveryAddress,lat:l.deliveryLat||51.5074+(Math.random()-.5)*.2,lng:l.deliveryLng||-.1278+(Math.random()-.5)*.2,type:"delivery",jobReference:l.reference})});const r=JSON.parse(localStorage.getItem("drivers")||"[]").find(l=>l.id===e),c=r?.vehicleType||"medium_van",d=await nm(s,c);return d.driverId=e,d.driverName=r?.name||"Unknown Driver",rm(d),d}function rm(e){const t=xr(),n=t.findIndex(o=>o.id===e.id);n>=0?t[n]=e:t.push(e),localStorage.setItem("optimized_routes",JSON.stringify(t))}function xr(){const e=localStorage.getItem("optimized_routes");return e?JSON.parse(e):[]}function im(e,t){return xr().find(o=>{const s=new Date(o.date);return o.driverId===e&&s.toDateString()===t.toDateString()})||null}function am(){const e=JSON.parse(localStorage.getItem("quotes")||"[]"),t=new Date;e.forEach(n=>{if(n.status==="pending"||n.status==="quoted"){const o=new Date(n.createdAt),s=(t.getTime()-o.getTime())/(1e3*60*60);s>=24&&s<25&&qo(n),s>=72&&s<73&&qo(n,!0)}})}function qo(e,t=!1){const n=t?`Hi! We noticed you haven't completed your booking for ${e.serviceType}. Book now and get 10% off!`:`Hi! You have a pending quote for ${e.serviceType}. Complete your booking today!`;console.log(`Abandoned quote email sent to ${e.customerEmail}: ${n}`);const o=JSON.parse(localStorage.getItem("notifications")||"[]");o.push({id:`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,userId:e.customerId,type:"abandoned_quote",title:t?"10% Off Your Move!":"Complete Your Booking",message:n,timestamp:new Date,read:!1}),localStorage.setItem("notifications",JSON.stringify(o))}function lm(){const e=JSON.parse(localStorage.getItem("customers")||"[]"),t=JSON.parse(localStorage.getItem("mockJobs")||"[]"),n=new Date;e.forEach(o=>{const i=t.filter(r=>r.customerId===o.id).sort((r,c)=>new Date(c.date).getTime()-new Date(r.date).getTime())[0];if(i){const r=(n.getTime()-new Date(i.date).getTime())/864e5;r>=90&&r<91&&cm(o)}})}function cm(e){const t="We miss you! It's been a while since your last move. Come back and get 15% off your next booking!";console.log(`Win-back email sent to ${e.email}: ${t}`);const n=JSON.parse(localStorage.getItem("notifications")||"[]");n.push({id:`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,userId:e.id,type:"win_back",title:"We Miss You! 15% Off",message:t,timestamp:new Date,read:!1}),localStorage.setItem("notifications",JSON.stringify(n))}function dm(){const e=localStorage.getItem("marketing_campaigns");return e?JSON.parse(e):[]}function kr(){const e=localStorage.getItem("insurance_claims");return e?JSON.parse(e):[]}function um(e){return kr().filter(n=>n.customerId===e)}function mm(e){const t=e.reduce((s,i)=>s+i.claimAmount,0),n=e.reduce((s,i)=>s+(i.approvedAmount||0),0),o=e.filter(s=>s.status==="paid").reduce((s,i)=>s+(i.approvedAmount||0),0);return{total:e.length,submitted:e.filter(s=>s.status==="submitted").length,underReview:e.filter(s=>s.status==="under_review").length,approved:e.filter(s=>s.status==="approved").length,rejected:e.filter(s=>s.status==="rejected").length,paid:e.filter(s=>s.status==="paid").length,totalClaimed:t,totalApproved:n,totalPaid:o,avgClaimAmount:e.length>0?t/e.length:0,approvalRate:e.length>0?e.filter(s=>s.status==="approved"||s.status==="paid").length/e.length*100:0}}function fm(e){const t=Lt(),n=t.findIndex(o=>o.id===e.id);n>=0?t[n]=e:t.push(e),localStorage.setItem("disputes",JSON.stringify(t))}function Lt(){const e=localStorage.getItem("disputes");return e?JSON.parse(e):[]}function hm(e){return Lt().filter(n=>n.reporterId===e||n.respondentId===e)}function pm(e){const t=e.length,n={submitted:e.filter(r=>r.status==="submitted").length,underReview:e.filter(r=>r.status==="under_review").length,mediation:e.filter(r=>r.status==="mediation").length,resolved:e.filter(r=>r.status==="resolved").length,escalated:e.filter(r=>r.status==="escalated").length,closed:e.filter(r=>r.status==="closed").length},o=e.reduce((r,c)=>r+(c.requestedRefund||0),0),s=e.reduce((r,c)=>r+(c.approvedRefund||0),0),i=gm(e.filter(r=>r.resolutionDate));return{total:t,byStatus:n,totalRefundRequested:o,totalRefundApproved:s,avgResolutionTime:i,resolutionRate:t>0?(n.resolved+n.closed)/t*100:0}}function gm(e){return e.length===0?0:e.reduce((n,o)=>{if(o.resolutionDate){const s=o.resolutionDate.getTime()-new Date(o.submittedDate).getTime();return n+s/(1e3*60*60)}return n},0)/e.length}function ym(){const e=Lt(),t=new Date;e.forEach(n=>{(n.status==="under_review"||n.status==="mediation")&&(t.getTime()-new Date(n.submittedDate).getTime())/864e5>7&&(n.status="escalated",n.priority="urgent",n.updatedAt=new Date,n.timeline.push({id:`event-${Date.now()}`,timestamp:new Date,type:"reviewed",userId:"system",userName:"System",description:"Dispute auto-escalated due to extended resolution time"}),fm(n))})}function Sr(){const e=localStorage.getItem("storage_bookings");return e?JSON.parse(e):[]}function vm(e,t){const{createInvoiceFromStorageBooking:n}=require("./invoiceGenerator"),o=[{description:`Storage (${e.totalVolume.toFixed(2)}m) - Monthly`,quantity:1,unitPrice:e.pricing.monthlyRate},...e.insurance.enabled?[{description:"Insurance Premium - Monthly",quantity:1,unitPrice:e.pricing.insuranceFee}]:[]],s=n(e,o,t),i=Sr(),r=i.findIndex(c=>c.id===e.id);return r!==-1&&(i[r].invoices.push(s.id),localStorage.setItem("storage_bookings",JSON.stringify(i))),s.id}function bm(){const e=Sr(),t=new Date;e.forEach(n=>{if(n.status!=="active")return;const o=new Date(n.nextBillingDate||t);if(t>=o){vm(n,"monthly"),n.lastBillingDate=t;const s=new Date(t);s.setMonth(s.getMonth()+1),n.nextBillingDate=s,n.endDate&&t>=new Date(n.endDate)&&(n.status="expired",wm(n))}}),localStorage.setItem("storage_bookings",JSON.stringify(e))}function wm(e){const t=JSON.parse(localStorage.getItem("notifications")||"[]");t.push({id:`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,userId:e.customerId,type:"storage_expiry",title:"Storage Period Expired",message:`Your storage booking ${e.bookingNumber} has expired. Please arrange pickup.`,timestamp:new Date,read:!1}),localStorage.setItem("notifications",JSON.stringify(t))}function xm(){console.log(" Processing monthly storage billing..."),bm(),console.log(" Storage billing completed")}function Tr(e,t){const n=t||e.lastJobDate||e.startDate,o=new Date(n);switch(e.frequency){case"daily":o.setDate(o.getDate()+1);break;case"weekly":o.setDate(o.getDate()+7);break;case"bi-weekly":o.setDate(o.getDate()+14);break;case"monthly":o.setMonth(o.getMonth()+1);break;case"custom":e.customDays&&o.setDate(o.getDate()+e.customDays);break}return e.endDate&&o>e.endDate?e.endDate:o}function km(e){const t=Cr(e);if(!t||t.status!=="active")return;const n=[];let o=new Date(t.startDate);const s=new Date;s.setMonth(s.getMonth()+3);const i=t.endDate||s;for(;o<=i&&o<=s;){const r={id:`scheduled-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,scheduleId:t.id,scheduledDate:new Date(o),status:"pending",createdAt:new Date};n.push(r),o=Tr(t,o)}Dr(e,n),t.upcomingJobs=n.map(r=>r.id),t.nextJobDate=n[0]?.scheduledDate,Pr(t)}function Sm(e){const t=Cm(e);if(!t)return null;const n=Cr(t.scheduleId);if(!n)return null;const o=`SMH-${Date.now().toString().slice(-6)}`;return console.log("Creating job from schedule:",{jobReference:o,schedule:n.id,scheduledDate:t.scheduledDate}),t.status="confirmed",t.jobReference=o,Pm(t),n.totalJobs+=1,n.lastJobDate=t.scheduledDate,n.upcomingJobs=n.upcomingJobs.filter(s=>s!==e),n.nextJobDate=Tr(n,t.scheduledDate),Pr(n),n.upcomingJobs.length<3&&km(n.id),o}function Pr(e){const t=it(),n=t.findIndex(o=>o.id===e.id);n>=0?t[n]=e:t.push(e),localStorage.setItem("recurring_schedules",JSON.stringify(t))}function it(){const e=localStorage.getItem("recurring_schedules");return e?JSON.parse(e):[]}function Cr(e){return it().find(n=>n.id===e)||null}function Tm(e){return it().filter(n=>n.customerId===e)}function Dr(e,t){localStorage.setItem(`scheduled_jobs_${e}`,JSON.stringify(t))}function Cn(e){const t=localStorage.getItem(`scheduled_jobs_${e}`);return t?JSON.parse(t):[]}function Pm(e){const t=Cn(e.scheduleId),n=t.findIndex(o=>o.id===e.id);n>=0?t[n]=e:t.push(e),Dr(e.scheduleId,t)}function Cm(e){const t=it();for(const n of t){const s=Cn(n.id).find(i=>i.id===e);if(s)return s}return null}function Dm(){const e=it().filter(n=>n.status==="active"),t=new Date;t.setHours(0,0,0,0),e.forEach(n=>{Cn(n.id).forEach(s=>{if(s.status==="pending"){const i=new Date(s.scheduledDate);i.setHours(0,0,0,0),n.autoBooking&&i<=t&&Sm(s.id),n.notifyBeforeBooking&&Math.floor((i.getTime()-t.getTime())/864e5)===n.notificationDays&&Em(n,s)}})})}function Em(e,t){console.log(`Notification: Upcoming job on ${t.scheduledDate.toLocaleDateString()}`);const n=JSON.parse(localStorage.getItem("notifications")||"[]");n.push({id:`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,userId:e.customerId,type:"scheduled_job_reminder",title:"Upcoming Scheduled Move",message:`Your recurring ${e.serviceType} is scheduled for ${t.scheduledDate.toLocaleDateString()}`,timestamp:new Date,read:!1}),localStorage.setItem("notifications",JSON.stringify(n))}function Am(e){console.log(" Initializing all system integrations..."),Ar(),Im(),Vm(),console.log(" All integrations initialized successfully")}function Im(){window.addEventListener("jobCompleted",async e=>{const{job:t,customer:n}=e.detail;console.log(" Processing job completion integrations for:",t.reference);try{const o=_u(t,n);jt(o),console.log(" Invoice generated:",o.invoiceNumber);const s=Fu(t.id,t.reference,t.vehicleType||"medium_van",t.distance||10,t.isElectric||!1,t.isHybrid||!1);console.log(" Carbon footprint calculated:",s.co2Emissions,"kg CO2"),setTimeout(()=>{$m(n.id,t.reference)},7200*1e3),Om(n.id,"job_completed")}catch(o){console.error("Error in job completion integrations:",o)}})}function Mm(){console.log(" Running daily automated tasks..."),Er(),Nm(),Ar(),Rm(),jm(),Lm(),console.log(" Daily tasks completed")}async function Er(){try{await Zu(),console.log(" Weather checks completed")}catch(e){console.error("Error checking weather:",e)}}async function Nm(){try{const e=JSON.parse(localStorage.getItem("drivers")||"[]"),t=new Date;for(const n of e){const o=await sm(n.id,t);o&&console.log(` Route generated for ${n.name}: ${o.totalDistance}km, ${o.fuelCost.toFixed(2)} fuel`)}}catch(e){console.error("Error generating routes:",e)}}function Ar(){try{am(),lm(),console.log(" Marketing automation completed")}catch(e){console.error("Error in marketing automation:",e)}}function Rm(){try{const e=ot(),t=new Date;e.forEach(n=>{if(n.status==="sent"){const o=new Date(n.dueDate);if(t>o){n.status="overdue";const s=JSON.parse(localStorage.getItem("notifications")||"[]");s.push({id:`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,userId:n.customer.id,type:"invoice_overdue",title:`Invoice ${n.invoiceNumber} Overdue`,message:`Your invoice of ${n.total.toFixed(2)} is now overdue. Please make payment.`,timestamp:new Date,read:!1}),localStorage.setItem("notifications",JSON.stringify(s))}}}),console.log(" Invoice checks completed")}catch(e){console.error("Error checking invoices:",e)}}function jm(){try{ym(),console.log(" Dispute escalation completed")}catch(e){console.error("Error escalating disputes:",e)}}function Lm(){try{xm(),console.log(" Storage billing processed")}catch(e){console.error("Error processing storage billing:",e)}}function $m(e,t){const n=JSON.parse(localStorage.getItem("notifications")||"[]");n.push({id:`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,userId:e,type:"feedback_request",title:"How was your move?",message:`Please rate your experience for job ${t}. Your feedback helps us improve!`,timestamp:new Date,read:!1,actionUrl:`/feedback/${t}`}),localStorage.setItem("notifications",JSON.stringify(n))}function Om(e,t){const n=br(e);n.trustScore=Math.min(100,n.trustScore+2),wr(n)}function Vm(){setInterval(()=>{Er()},216e5)}function Bm(){try{Dm(),console.log(" Recurring jobs processed")}catch(e){console.error("Error processing recurring jobs:",e)}}function of(e,t){const n={verification:br(e),language:Ce()};if(t==="customer"&&(n.sustainability=Uu(e),n.invoices=ot().filter(o=>o.customer.id===e),n.claims=um(e),n.disputes=hm(e),n.recurringSchedules=Tm(e)),t==="driver"){const o=new Date;n.todayRoute=im(e,o)}return t==="admin"&&(n.globalSustainability=Hu(),n.invoiceStats=zu(ot()),n.claimStats=mm(kr()),n.disputeStats=pm(Lt()),n.campaigns=dm()),n}function _m(){setInterval(()=>{Mm()},864e5);const t=3600*1e3;setInterval(()=>{Bm()},t),console.log(" Scheduled tasks initialized")}class zm extends T.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Error caught by boundary:",t,n)}render(){return this.state.hasError?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-6",children:h.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-12 border border-white/20 shadow-2xl max-w-2xl text-center",children:[h.jsx("h1",{className:"text-4xl text-white mb-4",children:"Oops! Something went wrong"}),h.jsx("p",{className:"text-white/70 mb-8",children:this.state.error?.message||"An unexpected error occurred"}),h.jsx("button",{onClick:()=>window.location.reload(),className:"px-8 py-4 bg-white text-purple-900 rounded-xl font-bold hover:bg-white/90 transition-all",children:"Reload Application"})]})}):this.props.children}}function Jm(){return f.useEffect(()=>{Du(),ju(),Vu(),Am(),_m(),console.log(" ShiftMyHome Platform Initialized"),console.log(" 2 Applications Ready:"),console.log("   1. Website (shiftmyhome.com)"),console.log("   2. Admin Dashboard (admin.shiftmyhome.com)")},[]),h.jsx(zm,{children:h.jsx(Xi,{children:h.jsx(jd,{children:h.jsxs(wu,{children:[h.jsx(Yi,{}),h.jsx(Ca,{}),h.jsx(mu,{}),h.jsx(Dd,{})]})})})})}Fi.createRoot(document.getElementById("root")).render(h.jsx(Jm,{}));export{Ra as A,Ye as B,Dd as C,sr as D,Sn as E,Ym as F,us as _,Ac as a,_s as b,ie as c,Zm as d,en as e,Jo as f,of as g,ot as h,Xe as i,bu as j,zu as k,tf as l,Ec as m,Qm as n,ef as o,yu as p,rr as q,Un as r,nf as s,qm as t,Xm as u,ir as v,ar as w,lr as x,Ce as y,Km as z};
