import{j as e}from"./radix-vendor-BV-zUPZ_.js";import{a}from"./react-vendor-BK8AH302.js";import{a as l}from"./auditLogger-XIHI3tGa.js";import{bI as o,ak as x,bB as m,aD as p,au as h}from"./ui-vendor-qxZeYYxY.js";function N(){const[t,r]=a.useState(""),[d,n]=a.useState([]);a.useEffect(()=>{n(l.getLogs())},[]);const c=s=>{switch(s){case"create":return"bg-green-100 text-green-700";case"update":return"bg-blue-100 text-blue-700";case"delete":return"bg-red-100 text-red-700";case"approve":return"bg-purple-100 text-purple-700";case"refund":return"bg-red-100 text-red-700 border border-red-200";case"financial":return"bg-yellow-100 text-yellow-700";case"export":return"bg-orange-100 text-orange-700";default:return"bg-slate-100 text-slate-700"}},i=d.filter(s=>s.user.toLowerCase().includes(t.toLowerCase())||s.action.toLowerCase().includes(t.toLowerCase())||s.details?.toLowerCase().includes(t.toLowerCase())||s.jobId?.toLowerCase().includes(t.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Audit Logs"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Track all system activities and changes"})]}),e.jsxs("button",{className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-medium hover:shadow-lg transition-all flex items-center gap-2",children:[e.jsx(o,{className:"w-5 h-5"}),"Export Logs"]})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(x,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search logs by user, action, or type...",value:t,onChange:s=>r(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-all flex items-center gap-2",children:[e.jsx(m,{className:"w-4 h-4"}),"Filters"]})})]})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-slate-900",children:"Timestamp"}),e.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-slate-900",children:"User"}),e.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-slate-900",children:"Action"}),e.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-slate-900",children:"Type"}),e.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-slate-900",children:"IP Address"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:i.map(s=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(p,{className:"w-4 h-4"}),l.formatDate(s.timestamp)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-slate-900 font-medium",children:s.user}),e.jsx("span",{className:"text-xs text-slate-500 bg-slate-100 px-1.5 py-0.5 rounded capitalize",children:s.role.replace("_"," ")})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("p",{className:"text-slate-900 font-medium",children:s.action}),s.details&&e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:s.details}),s.jobId&&e.jsxs("span",{className:"inline-block mt-1 text-xs font-mono bg-slate-100 px-1 rounded text-slate-600",children:["Ref: ",s.jobId]})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold capitalize ${c(s.type)}`,children:s.type})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"font-mono text-sm text-slate-600",children:s.ip})})]},s.id))})]})})]})}export{N as AuditLogs};
